\chapter{可換環論 基礎編}

Hartshorneに出てくる可換環論の中でも、僕の独断と偏見で基礎的と思われるものを頑張って解説する章です。

\section{可換環の定義と準同型}

\subsection{可換環の定義}

ざっくり説明すると、「足し算」「引き算」「掛け算」までできることを保証して、「割り算」ができるとは限らないような代数系です。
厳密には次の通りです。
\begin{definition}[可換環]
  $A$を空でない集合、$+:A\times A\to A$、$\cdot:A\times A\to A$をそれぞれ写像、$0,1\in A$とする。
  このとき、$(A,+,\cdot,0,1)$が\textbf{可換環}(単に$A$と表記する)であるとは、任意の$a,b,c\in A$に対して次を満たす時を言う。
  \begin{itemize}
    \item \textbf{演算$+$に関して可換群} 
    \begin{itemize}
      \item \textbf{結合法則} $a+(b+c)=(a+b)+c$
      \item \textbf{単位元} $a+0=0+a=a$
      \item \textbf{逆元} $a+(-a)=(-a)+a=0$ (${}^\exists -a\in A$)
      \item \textbf{可換性} $a+b=b+a$
    \end{itemize}
    \item \textbf{演算$\cdot$に関して可換モノイド}
    \begin{itemize}
      \item \textbf{結合法則} $a\cdot (b\cdot c)=(a\cdot b)\cdot c$
      \item \textbf{単位元} $a\cdot 1=1\cdot a=a$
      \item \textbf{可換性} $a\cdot b=b\cdot a$
    \end{itemize}
    \item \textbf{分配法則}\footnote{
      本来$(a+b)\cdot c=a\cdot c+b\cdot c$も含めるべきかもしれませんが、積の可換性があるのでこれで十分です。
    } $a\cdot(b+c)=a\cdot b+a\cdot c$
  \end{itemize}
\end{definition}
省略記法として、
\begin{align*}
  ab&=a\cdot b\\
  a-b&=a+(-b)
\end{align*}
を用いることがほとんどです。

また、基本的に$1=0$の可能性を排除しません。
もし$1=0$ならば、次のことが成り立ちます。
\begin{theorem}
  $A$を可換環とする。もし$1=0$ならば、$A=\{0\}$。
\end{theorem}
\begin{proof}
  任意の$a\in A$に対して、
  \[
    a=1\cdot a=0\cdot a=0
  \]
\end{proof}

\begin{example}
  整数全体$\mathbb{Z}$、有理数全体$\mathbb{Q}$、実数全体$\mathbb{R}$、複素数全体$\mathbb{C}$は可換環。
  自然数全体$\mathbb{N}$は可換環ではない。
\end{example}

\begin{example}
  可換環$A$に対して、$n$個の未知変数$x_1,\dots,x_n$の有限項からなる多項式がなす全体の集合
  \[
    A[x_1,\dots,x_n]=\left\{\sum_{\text{有限和}} a_{i_1\cdots i_n}x_1^{j_1}\cdots x_n^{j_n}\mid a_{i_1\cdots i_n}\in A\right\}
  \]
  は、通常の和と積に関して可換環となる。
\end{example}

\subsection{準同型}

可換環の構造を保つ写像を環準同型写像といいます。
\begin{definition}[環準同型写像]
  $A,B$を環とする。写像$f:A\to B$が\textbf{環準同型写像}であるとは、次を満たす時を言う。
  \begin{itemize}
    \item $f(a+b)=f(a)+f(b)$
    \item $f(ab)=f(a)f(b)$
    \item $f(1)=1$
  \end{itemize}
\end{definition}

次の同型写像が存在するとき、代数的にはそれらの環の構造を区別できないほど同じです。
\begin{definition}
  $A,B$を環とする。写像$f:A\to B$が\textbf{同型写像}であるとは、$f$が全単射な環準同型であって、逆写像も環準同型になっているときをいう。
  可換環$A,B$の間に同型写像が存在するとき、$A$と$B$は互いに\textbf{同型}であるという。
\end{definition}



\section{イデアル}

\subsection{イデアルの定義}

イデアルは、整数環$\mathbb{Z}$における「$n$倍数」を抽象化した概念と言えます。
\begin{definition}[イデアル]
  $A$を可換環とする。部分集合$\mathfrak{a}\subset A$が$A$の\textbf{イデアル}であるとは、次を満たす時を言う。
  \begin{itemize}
    \item $0\in\mathfrak{a}$
    \item $x,y\in \mathfrak{a}\implies x+y\in \mathfrak{a}$
    \item $a\in A, x\in \mathfrak{a}\implies ax\in\mathfrak{a}$
  \end{itemize}
\end{definition}

\subsubsection{イデアルの例}

\begin{example}
  $n$を整数とするとき、$n$の倍数全体の集合
  \[
    (n):=\{an\mid a\in\mathbb{Z}\}
  \]
  は、可換環$\mathbb{Z}$のイデアルである。
\end{example}

上記の例で既に用いてしまいましたが、可換環のいくつかの元が生成するイデアルというものを考えることができます。
\begin{theorem}
  $A$を可換環、$T\subset A$を$A$の部分集合とする。
  このとき、
  \[
    (T):=\left\{\sum_{\text{有限和}}a_ix_i\mid a_i\in A, x_i\in T\right\}
  \]
  は$A$のイデアルである。
\end{theorem}
\begin{proof}
  まず、有限和の係数をすべて0にすれば$0\in(T)$がわかる。
  次に$\sum a_ix_i, \sum b_jy_y\in (T)$ならば$\sum a_ix_i+\sum b_jy_y\in (T)$であることは、有限和ふたつの和が有限和になることからわかる。
  最後に$a\in A$、$\sum b_jy_y\in (T)$ならば、
  \[
    a\sum b_jy_y=\sum (ab_j)y_j\in(T)
  \]
\end{proof}
\begin{definition}
  $A$を可換環、$T\subset A$を$A$の部分集合とする。
  このとき、イデアル
  \[
    (T):=\left\{\sum_{\text{有限和}}a_ix_i\mid a_i\in A, x_i\in T\right\}
  \]
  を、\textbf{$T$が生成するイデアル}と呼ぶ。
  $T$が有限個の元$a_1,\dots,a_n$からなるとき、単に
  \[
    (a_1,\dots,a_n):=(\{a_1,\dots,a_n\})
  \]
  と書く。

  特に一つの元のみから生成されるイデアルを\textbf{単項イデアル}と呼ぶ。
  $a$が生成する単項イデアルは
  \[
    (a),\text{  あるいは  }aA
  \]
  と書かれる。
\end{definition}

\begin{example}
  可換環$\mathbb{Q}$には、イデアルが
  \[(0)=\{0\},\quad (1)=\mathbb{Q}\]
  の二つしか存在しない。
  実際、$\mathfrak{a}$を$(0)$でないイデアルとすると、ある$x\in\mathfrak{a}$が存在して、$x\neq0$。
  従って、$x^{-1}\in\mathbb{Q}$であるから、
  \[
    1=x^{-1}x\in\mathfrak{a}
  \]
  ゆえに、任意の有理数$q$に対して、
  \[
    q=1\cdot q\in\mathfrak{a}
  \]
  ゆえに$\mathfrak{a}=\mathbb{Q}$
\end{example}

\subsection{素イデアルと極大イデアル}

素数は整数の中でも特別な存在でした。
整数環における素数に対応するイデアルが次の概念です。
\begin{definition}
  $A$を可換環、$A$のイデアル$\mathfrak{p}\neq A$が\textbf{素イデアル}であるとは、任意の$x,y\in A$に対して、次を満たす時を言う。
  \[
    xy\in\mathfrak{p} \implies x\in\mathfrak{p} \text{ or } y\in\mathfrak{p}
  \]
\end{definition}

\subsubsection{素イデアルの例}

\begin{example}
  素数$p$に対して、$p\mathbb{Z}\subset\mathbb{Z}$は素イデアルである\footnote{
    $\mathbb{Z}$の単項イデアルを$(p)$などと書くとややこしいことが多いので、個人的には$p\mathbb{Z}$と書きたいです。
  }。
\end{example}
\begin{proof}
  $xy\in p\mathbb{Z}$、すなわち、ある$a\in \mathbb{Z}$が存在して、$xy=ap$が成り立つとする。
  このとき、素因数分解の一意性から、$x$または$y$は$p$で割り切れなければならない。
  すなわち、もし$x$が$p$で割り切れるならば、$x=x'p$ (${}^\exists x'\in\mathbb{Z}$)。
  これはすなわち$x\in p\mathbb{Z}$を意味する。
  $y$が$p$で割り切れるとしても同様である。
\end{proof}

\begin{example}
  $6\mathbb{Z}\subset\mathbb{Z}$は素イデアルではない。
\end{example}
\begin{proof}
  実際、$2\times3=6\in 6\mathbb{Z}$であるが、$2$と$3$は$6$で割り切れないから$2\notin 6\mathbb{Z}$かつ$3\notin 6\mathbb{Z}$。
\end{proof}

\begin{example}
  $\mathbb{C}[X,Y]$を$\mathbb{C}$上の2変数多項式環とする。
  このとき、$(X)\subset\mathbb{C}[X,Y]$は素イデアルである。
\end{example}
\begin{proof}
  $fg\in(X)$、すなわち、$fg=hX$ (${}^\exists h\in\mathbb{C}[X,Y]$)とする。
  このとき、$X$に関するそれぞれの定数項$f(0,Y)$、$g(0,Y)$を考えると、
  \[
    f(0,Y)g(0,Y)=h(0,Y)\cdot0=0
  \]
  であるから、$f,g$の$X$に関する定数項の積は0となる。
  ゆえにどちらかの$X$に関する定数項は0であるから、$f$か$g$どちらかは$X$で括れる形になっている。
  すなわち$f\in(X)$または$g\in(X)$
\end{proof}

\subsection{極大イデアル}

包含関係に関して極大なイデアルを極大イデアルといいます。
\begin{definition}
  $A$を可換環とする。イデアル$\mathfrak{m}\subset A$が\textbf{極大イデアル}であるとは、次を満たす時を言う。
  もし$\mathfrak{m}\subset\mathfrak{a}\subset A$となるイデアル$\mathfrak{a}$が存在するならば、$\mathfrak{a}=\mathfrak{m}$または$\mathfrak{a}=A$。
\end{definition}

\subsubsection{極大イデアルの例}

\begin{example}
  素数$p$に対して、$p\mathbb{Z}\subset\mathbb{Z}$は極大イデアルである。
\end{example}
\begin{proof}
  もし$p\mathbb{Z}\subsetneq\mathfrak{a}\subset\mathbb{Z}$となるイデアル$\mathfrak{a}$が存在したとすると、$\mathfrak{a}$には$p$の倍数でない整数$x$が存在する。
  $p$は素数ゆえ、$x$と$p$は互いに素となる。
  ここでユークリッドの互除法より$pn+xy=1$をみたす$n,y\in\mathbb{Z}$が存在し、$p,x\in\mathfrak{a}$であるから、$1=pn+xy\in\mathfrak{a}$となる。
  従って、任意の$m\in\mathbb{Z}$に対して、$m=1\cdot m\in\mathfrak{a}$となり、$\mathfrak{a}=\mathbb{Z}$
\end{proof}

この証明の中でイデアルに1が含まれると必ず全体になるというふうに読める部分がありますが、実際これは一般に成り立ちます。
\begin{theorem}
  $A$を可換環、$\mathfrak{m}\subset A$をイデアルとする。もし$1\in\mathfrak{a}$ならば、$\mathfrak{a}=A$
\end{theorem}
\begin{proof}
  任意の$a\in A$に対して$a=1\cdot a\in\mathfrak{a}$ゆえ$A\subset\mathfrak{a}$。
  当然$\mathfrak{a}\subset A$でもあるから、$\mathfrak{a}=A$が従う。
\end{proof}

\begin{example}
  $\mathbb{C}[X,Y]$を$\mathbb{C}$上の2変数多項式環とする。
  このとき、$(X,Y)\subset\mathbb{C}[X,Y]$は極大イデアルである。
\end{example}
\begin{proof}
  定義から
  \[
    (X,Y)=\left\{\sum_{i_1=1}^{r_1}\sum_{i_2=1}^{r_2}a_{i_1i_2}X^{i_1}Y^{i_2}\mid a_{i_1i_2}\in\mathbb{C}\right\}
  \]
  であったことから、イデアル$(X,Y)$は定数項が0の多項式全体の集合であることに注意する。
  $(X,Y)\subsetneq\mathfrak{a}\subset\mathbb{C}[X,Y]$とする。
  このとき、ある$f\in\mathfrak{a}$が存在して、$f\notin(X,Y)$。
  つまり$f$は定数項$f(0,0)$が0ではない多項式である。
  \[
    f(X,Y)-f(0,0)\in(X,Y)\subset\mathfrak{a}
  \]
  であるから、
  \[
    1=\frac{f(X,Y)-(f(X,Y)-f(0,0))}{f(0,0)}=\frac{1}{f(0,0)}f(X,Y)-\frac{1}{f(0,0)}(f(X,Y)-f(0,0))\in\mathfrak{a}
  \]
  となり、$\mathfrak{a}=\mathbb{C}[X,Y]$が従う。
\end{proof}

\subsubsection{極大イデアルは素イデアル}
一般に、極大イデアルは素イデアルです。
\begin{theorem}
  $A$を可換環とする。イデアル$\mathfrak{m}\subset A$が極大イデアルならば、$\mathfrak{m}$は素イデアルである。
\end{theorem}
\begin{proof}
  背理法によって証明する。
  $ab\in\mathfrak{m}$かつ、$a\notin\mathfrak{m}$かつ$b\notin\mathfrak{m}$を満たす$a,b\in A$が存在するとする。
  このとき
  \[
    \mathfrak{a}:=\{ax+y\mid x\in A, y\in\mathfrak{m}\}
  \]
  とおくと、これはイデアルである。
  実際、あきらかに$0\in\mathfrak{a}$。
  また、$ax+y,ax'+y'\in\mathfrak{a}$とすると、$x+x'\in A$、$y+y'\in\mathfrak{m}$であるから、
  \[
    (ax+y)+(ax'+y)=a(x+x')+(y+y')\in\mathfrak{a}
  \]
  最後に、$c\in A$、$ax+y\in\mathfrak{a}$とすると、$cx\in A$、$cy\in\mathfrak{m}$であるから、
  \[
    c(ax+y)=a(cx)+cy\in\mathfrak{a}
  \]
  ゆえに$\mathfrak{a}$は$A$のイデアルである。

  また$\mathfrak{m}\subsetneq\mathfrak{a}$である。
  実際、$ax+y$の表式において$x=0$とすれば、任意の$\mathfrak{m}$の元が$\mathfrak{a}$に含まれることがわかる。
  一方で$a\notin\mathfrak{m}$であるが、あきらかに$a\in\mathfrak{a}$であるから、$\mathfrak{m}\subsetneq\mathfrak{a}$である。

  $\mathfrak{m}$は極大イデアルであるから、従って$\mathfrak{a}=A$となる。
  従って、ある$x\in A$と$y\in\mathfrak{m}$が存在して、
  \[
    ax+y=1
  \]
  をみたす。この両辺に$b$を掛けると、
  \[
    abx+by=b
  \]
  であるが、$ab\in\mathfrak{m}$かつ$y\in\mathfrak{m}$だったため、$b\in\mathfrak{m}$となるが、これは矛盾である。
\end{proof}

この逆、つまり「素イデアルは極大イデアル」は一般に成り立ちません。
\begin{example}
  $\mathbb{C}[X,Y]$を$\mathbb{C}$上の2変数多項式環とする。
  このとき、$(X)\subset\mathbb{C}[X,Y]$は素イデアルであるが、極大イデアルではない。
\end{example}
\begin{proof}
  たとえば$(X,Y)$は$(X)$を含む極大イデアルである。
\end{proof}



\begin{comment}
  必要になったら必要になったところに移動する。
\section{イデアル演算}

極大イデアル$\mathfrak{m}$が素イデアルであることを証明するために、$a\in A$に対して
\[
  \{ax+y\mid x\in A, y\in\mathfrak{m}\}
\]
というイデアルを作りました。
この考えを一般化することができます。
\begin{theorem}
  $A$を可換環、$\mathfrak{a},\mathfrak{b}$を$A$のイデアルとする。
  このとき、
  \[
    \mathfrak{c}:=\{x+y\mid x\in\mathfrak{a},y\in\mathfrak{b}\}
  \]
  はイデアルである。
\end{theorem}
\begin{proof}
  $0\in\mathfrak{c}$は自明。
  $x+y,x'+y'\in\mathfrak{c}$とすると、$x+x'\in\mathfrak{a}$、$y+y'\in\mathfrak{b}$より
  \[
    (x+y)+(x'+y')=(x+x')+(y+y')\in\mathfrak{c}
  \]
  最後に、$a\in A$、$x+y\in\mathfrak{c}$とすると、$ax\in\mathfrak{a}$、$ay\in\mathfrak{b}$より
  \[
    a(x+y)=ax+ay\in\mathfrak{c}
  \]
\end{proof}
\begin{definition}
  $A$を可換環、$\mathfrak{a},\mathfrak{b}$を$A$のイデアルとする。
  このとき、イデアル
  \[
    \mathfrak{a}+\mathfrak{b}:=\{x+y\mid x\in\mathfrak{a},y\in\mathfrak{b}\}
  \]
  を$\mathfrak{a}$と$\mathfrak{b}$の和という。
\end{definition}
有限個のイデアルの和も帰納的に定義できます。
無限個のイデアルのときは次のように定義します。
\begin{theorem}
  $A$を可換環、$\{\mathfrak{a}_i\}_{i\in I}$を$A$のイデアルの族とする。
  このとき、
  \[
    \mathfrak{b}:=\{\sum_{i\in I}x_i\mid x_i\in\mathfrak{a}_i, \text{有限個の$i\in I$を除いて$x_i=0$}\}
  \]
  はイデアルである。
\end{theorem}
\end{comment}



\section{剰余環}

高校時代に理系だった人は、大学受験の裏技として$\mod$を習ったかもしれません。
例えば
\[
  x\equiv y\mod n
\]
と書けば、これは「$x$を$n$で割った余りと、$y$を$n$で割った余りは等しい」と読むのでした。
そうなると、整数は
\begin{itemize}
  \item $n$の倍数
  \item $n$で割って$1$余る
  \item $n$で割って$2$余る
  \item \dots
  \item $n$で割って$n-1$余る
\end{itemize}
によって完全に分類できています。
また、
\begin{align*}
  x\equiv y\mod n &\implies x+c\equiv y+c\mod n\\
  x\equiv y\mod n &\implies x-c\equiv y-c\mod n\\
  x\equiv y\mod n &\implies ax\equiv ay\mod n
\end{align*}
が成り立つことから、環の構造が見えてきます。
この考えを一般化したものが剰余環です。
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をイデアルとする。
  このとき、$x,y\in A$に対して、$x\equiv y\mod\mathfrak{a}$であることを
  \[
    x-y\in\mathfrak{a}
  \]
  であることと定義すると、この関係は同値関係である。
\end{theorem}
\begin{proof}
  $x\in A$に対して、$x-x=0\in\mathfrak{a}$であるから、反射律を満たす。
  $x\equiv y\mod \mathfrak{a}$であるとすると、すなわち$x-y\in\mathfrak{a}$である。
  $\mathfrak{a}$がイデアルであることから、$y-x=-(x-y)\in\mathfrak{a}$。すなわち対称律を満たす。
  $x\equiv y\mod \mathfrak{a}$かつ$y\equiv z\mod \mathfrak{a}$とすると、$x-y,y-z\in\mathfrak{a}$であるから、$x-z=(x-y)+(y-z)\in\mathfrak{a}$。
  ゆえに推移律も満たす。
\end{proof}
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をイデアルとする。
  同値関係$x\equiv y\mod\mathfrak{a}$による剰余集合を$A/\mathfrak{a}$と書く。
  また、$x\in A$が含まれる同値類を$x+\mathfrak{a}\in A/\mathfrak{a}$と書く。
  このとき、写像
  \[
    A/\mathfrak{a}\times A/\mathfrak{a}\to A/\mathfrak{a};(x+\mathfrak{a},y+\mathfrak{a})\mapsto x+y+\mathfrak{a}
  \]
  はwell-definedである。
\end{theorem}
\begin{proof}
  $x\equiv x'\mod\mathfrak{a}$、$y\equiv y'\mod\mathfrak{a}$とすると、$x-x',y-y'\in\mathfrak{a}$より、
  \[
    (x+y)-(x'+y')=(x-x')+(y-y')\in\mathfrak{a}
  \]
  ゆえに$x+y\equiv x'+y'\mod\mathfrak{a}$
\end{proof}
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をイデアルとする。
  同値関係$x\equiv y\mod\mathfrak{a}$による剰余集合を$A/\mathfrak{a}$と書く。
  また、$x\in A$が含まれる同値類を$x+\mathfrak{a}\in A/\mathfrak{a}$と書く。
  このとき、写像
  \[
    A/\mathfrak{a}\times A/\mathfrak{a}\to A/\mathfrak{a};(x+\mathfrak{a},y+\mathfrak{a})\mapsto xy+\mathfrak{a}
  \]
  はwell-definedである。
\end{theorem}
\begin{proof}
  $x\equiv x'\mod\mathfrak{a}$、$y\equiv y'\mod\mathfrak{a}$とすると、$x-x',y-y'\in\mathfrak{a}$より、
  \[
    xy-x'y'=xy-x'y+x'y-x'y'=y(x-x')+x'(y-y')\in\mathfrak{a}
  \]
  ゆえに$xy\equiv x'y'\mod\mathfrak{a}$
\end{proof}
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をイデアルとする。
  また、$x\in A$が含まれる同値類を$x+\mathfrak{a}\in A/\mathfrak{a}$と書く\footnote{
    すなわち、$y\in x+\mathfrak{a}\iff x\equiv y \mod \mathfrak{a}$
  }。
  このとき$A/\mathfrak{a}$は、
  \[
    +:A/\mathfrak{a}\times A/\mathfrak{a}\to A/\mathfrak{a};(x+\mathfrak{a},y+\mathfrak{a})\mapsto x+y+\mathfrak{a}
  \]
  を加法、
  \[
    \cdot:A/\mathfrak{a}\times A/\mathfrak{a}\to A/\mathfrak{a};(x+\mathfrak{a},y+\mathfrak{a})\mapsto xy+\mathfrak{a}
  \]
  を乗法とし、
  \[0+\mathfrak{a}, 1+\mathfrak{a}\]
  をそれぞれ加法単位元、乗法単位元として、可換環をなす。
\end{theorem}
\begin{proof}
  任意の$x+\mathfrak{a}, y+\mathfrak{a}, z+\mathfrak{a}\in A/\mathfrak{a}$に対して、
  \begin{itemize}
    \item 和に関する結合法則：$x+\mathfrak{a}+(y+\mathfrak{a}+z+\mathfrak{a})=x+\mathfrak{a}+(y+z)+\mathfrak{a}=(x+(y+z))+\mathfrak{a}=((x+y)+z)+\mathfrak{a}=(x+y)+\mathfrak{a}+z+\mathfrak{a}=(x+\mathfrak{a}+y+\mathfrak{a})+z+\mathfrak{a}$
    \item 和に関する単位元：$0+\mathfrak{a}+x+\mathfrak{a}=(0+x)+\mathfrak{a}=x+\mathfrak{a}$、$x+\mathfrak{a}+0+\mathfrak{a}=(x+0)+\mathfrak{a}=x+\mathfrak{a}$
    \item 和に関する逆元：$x+\mathfrak{a}+(-x)+\mathfrak{a}=(x-x)+\mathfrak{a}=0+\mathfrak{a}$、$-x+\mathfrak{a}+x+\mathfrak{a}=(-x+x)+\mathfrak{a}=0+\mathfrak{a}$
    \item 積に関する結合法則：$(x+\mathfrak{a})\{(y+\mathfrak{a})(z+\mathfrak{a})\}=(x+\mathfrak{a})(yz+\mathfrak{a})=x(yz)+\mathfrak{a}=(xy)z+\mathfrak{a}=(xy+\mathfrak{a})(z+\mathfrak{a})=\{(x+\mathfrak{a})(y+\mathfrak{a})\}(z+\mathfrak{a})$
    \item 積に関する単位元：$(1+\mathfrak{a})(x+\mathfrak{a})=1\cdot x+\mathfrak{a}=x+\mathfrak{a}$、$(x+\mathfrak{a})(1+\mathfrak{a})=x\cdot1+\mathfrak{a}=x+\mathfrak{a}$
    \item 積の可換性：$(x+\mathfrak{a})(y+\mathfrak{a})=xy+\mathfrak{a}=yx+\mathfrak{a}=(y+\mathfrak{a})(x+\mathfrak{a})$
    \item 分配法則：$(x+\mathfrak{a})(y+\mathfrak{a}+z+\mathfrak{a})=(x+\mathfrak{a})(y+z+\mathfrak{a})=x(y+z)+\mathfrak{a}=xy+xz+\mathfrak{a}=xy+\mathfrak{a}+xz+\mathfrak{a}$
  \end{itemize}
\end{proof}

剰余環には以下のような自然な準同型が存在して、重要なものだったりします。
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をそのイデアルとする。
  このとき、写像
  \[
    \pi:A\to A/\mathfrak{a};x\mapsto x+\mathfrak{a}
  \]
  は環準同型である。
\end{theorem}
\begin{proof}
  任意の$x,y\in A$に対して、
  \begin{itemize}
    \item $\pi(x+y)=x+y+\mathfrak{a}=x+\mathfrak{a}+y+\mathfrak{a}=\pi(x)+\pi(y)$
    \item $\pi(xy)=xy+\mathfrak{a}=(x+\mathfrak{a})(y+\mathfrak{a})=\pi(x)\pi(y)$
    \item $\pi(1)=1+\mathfrak{a}$
  \end{itemize}
\end{proof}

\subsection{剰余環の例}

\begin{example}
  $\mathbb{Z}/n\mathbb{Z}$は$n$個の元からなる可換環である。
  \[
    \mathbb{Z}/n\mathbb{Z}=\{0+n\mathbb{Z},1+n\mathbb{Z},2+n\mathbb{Z},\dots,n-1+n\mathbb{Z}\}
  \]
  たとえば$n=3$のときの和と積の表は次のようになる。
  \[
    \begin{array}{c|ccc}
      + & 0 & 1 & 2\\\hline
      0 & 0 & 1 & 2\\
      1 & 1 & 2 & 0\\
      2 & 2 & 0 & 1
    \end{array}
    \qquad
    \begin{array}{c|ccc}
      \cdot & 0 & 1 & 2\\\hline
      0 & 0 & 0 & 0\\
      1 & 0 & 1 & 2\\
      2 & 0 & 2 & 1
    \end{array}
  \]
\end{example}

\begin{example}
  $\mathbb{R}[X]/(X^2+1)$において、$X$を含む同値類$X+(X^2+1)$は虚数と同じ役割を果たす。
  実際、
  \[
    (X+(X^2+1))(X+(X^2+1))=X^2+(X^2+1)
  \]
  であるが、もちろん$X^2+1\equiv0\mod(X^2+1)$のため、$X^2\equiv-1\mod(X^2+1)$。
  ゆえに
  \[
    (X+(X^2+1))(X+(X^2+1))=-1+(X^2+1)
  \]
\end{example}
次に紹介する定理を使って、これが実際に$\mathbb{C}$と同型であることを証明します。



\section{環準同型定理}

剰余環には、「イデアルで環をつぶす」という感覚があります。
それを如実に表わすのが環準同型定理でしょう。
準備のために、いくつか準備が必要です。
\begin{theorem}
  $A,B$を可換環、$f:A\to B$を環準同型とする。
  このとき、
  \[
    \operatorname{Ker}(f):=\{a\in A\mid f(a)=0\}
  \]
  は$A$のイデアルである。
\end{theorem}
\begin{proof}
  $f(0)=0$であるから、$0\in\operatorname{Ker}(f)$。
  また$x,y\in\operatorname{Ker}(f)$、すなわち$f(x)=f(y)=0$ならば、$f(x+y)=f(x)+f(y)=0+0=0$。ゆえに$x+y\in\operatorname{Ker}(f)$。
  最後に、$a\in A$、$x\in\operatorname{Ker}(f)$とおくと、$f(ax)=f(a)f(x)=f(a)\cdot0=0$。ゆえに$ax\in\operatorname{Ker}(f)$。
\end{proof}
\begin{definition}
  $A,B$を可換環、$f:A\to B$を環準同型とする。
  このとき、イデアル
  \[
    \operatorname{Ker}(f):=\{a\in A\mid f(a)=0\}
  \]
  を、$f$の\textbf{カーネル}(\textit{kernel})と呼ぶ。
\end{definition}
\begin{definition}
  $A,B$を可換環とし、$A\subset B$を満たすとする。
  このとき、包含写像$i:A\hookrightarrow B$が環準同型となるとき、$A$は$B$の\textbf{部分環}であるという。
\end{definition}
\begin{theorem}
  $A,B$を可換環、$f:A\to B$を環準同型とする。
  このとき、
  \[
    \operatorname{Im}(f):=\{f(x)\in B\mid x\in A\}
  \]
  は$B$の部分環である。
\end{theorem}
\begin{proof}
  $f$が環準同型であることから自明。
\end{proof}
\begin{theorem}[環準同型定理(well-definedness)]
  $A,B$を可換環、$f:A\to B$を環準同型とする。
  このとき、
  \[
    \overline{f}:A/\operatorname{Ker}(f)\to\operatorname{Im}(f);x+\operatorname{Ker}(f)\mapsto f(x)
  \]
  はうまく定義された写像である。
\end{theorem}
\begin{proof}
  $x-y\in\operatorname{Ker}(f)$、すなわち$f(x-y)=0$を満たすとする。
  このとき、$0=f(x-y)=f(x)-f(y)$ゆえに$f(x)=f(y)$
\end{proof}
\begin{theorem}[環準同型定理]
  $A,B$を可換環、$f:A\to B$を環準同型とする。
  このとき、写像
  \[
    \overline{f}:A/\operatorname{Ker}(f)\to\operatorname{Im}(f);x+\operatorname{Ker}(f)\mapsto f(x)
  \]
  は環同型写像である。
\end{theorem}
\begin{proof}
  \textbf{準同型であること} $x+\operatorname{Ker}(f),y+\operatorname{Ker}(f)\in A/\operatorname{Ker}(f)$に対して、
  \begin{itemize}
    \item $\overline{f}(x+\operatorname{Ker}(f)+y+\operatorname{Ker}(f))=\overline{f}(x+y+\operatorname{Ker}(f))=f(x+y)$。
    一方で$\overline{f}(x+\operatorname{Ker}(f))+\overline{f}(y+\operatorname{Ker}(f))=f(x)+f(y)=f(x+y)=\overline{f}(x+\operatorname{Ker}(f)+y+\operatorname{Ker}(f))$
    \item $\overline{f}((x+\operatorname{Ker}(f))(y+\operatorname{Ker}(f)))=\overline{f}(xy+\operatorname{Ker}(f))=f(xy)$。
    一方で$\overline{f}(x+\operatorname{Ker}(f))\overline{f}(y+\operatorname{Ker}(f))=f(x)f(y)=f(xy)=\overline{f}((x+\operatorname{Ker}(f))(y+\operatorname{Ker}(f)))$
    \item $\overline{f}(1+\operatorname{Ker}(f))=f(1)=1$
  \end{itemize}

  \textbf{単射性} $x+\operatorname{Ker}(f),y+\operatorname{Ker}(f)\in A/\operatorname{Ker}(f)$に対して、$f(x)=f(y)$を満たすとする。
  このとき、$0=f(x)-f(y)=f(x-y)$ゆえ$x-y\in\operatorname{Ker}(f)$となる。
  従って$x+\operatorname{Ker}(f)=y+\operatorname{Ker}(f)$。

  \textbf{全射性} 任意の$f(x)\in\operatorname{Im}(f)$に対して、$\overline{f}(x+\operatorname{Ker}(f))=f(x)$。
\end{proof}

\begin{example}
  $\mathbb{R}[X]/(X^2+1)\cong\mathbb{C}$
\end{example}
\begin{proof}
  $\mathbb{R}[X]$から$\mathbb{C}$への写像を
  \[
    \varphi:\mathbb{R}[X]\to\mathbb{C};f(X)\mapsto f(\sqrt{-1})
  \]
  で定義すると、これは環準同型である。
  実際、$\varphi(f(X)+g(X))=f(\sqrt{-1})+g(\sqrt{-1})=\varphi(f(X))+\varphi(g(X))$、$\varphi(f(X)g(X))=f(\sqrt{-1})g(\sqrt{-1})=\varphi(f(X))\varphi(g(X))$、$\varphi(1)=1$を満たしている。

  また、$\varphi$は全射である。
  実際、任意の複素数$\alpha:=a+b\sqrt{-1}\in\mathbb{C}$に対して、$f(X):=a+bX$とおけば、あきらかに$\varphi(f(X))=\alpha$。
  すなわち$\operatorname{Im}(\varphi)=\mathbb{C}$である。

  準同型定理を使うため、$\operatorname{Ker}(\varphi)=(X^2+1)$を証明する。
  まず任意の$f(X)\in(X^2+1)$は、$f(X)=g(X)(X^2+1)$となる$g(X)\in\mathbb{R}[X]$が存在するため、
  \[
    \varphi(f(X))=\varphi(g(X)(X^2+1))=g(\sqrt{-1})(\sqrt{-1}^2+1)=g(\sqrt{-1})\cdot0=0
  \]
  ゆえに$f(X)\in\operatorname{Ker}(\varphi)$。
  逆に、任意の$f(X)\in\operatorname{Ker}(\varphi)$とする。
  このとき多項式の除法より、$f(X)=(X^2+1)q(X)+r(X)$となる$q(X),r(X)\in\mathbb{R}[X]$が存在し、$\deg r<2$である。
  したがって、$r(X)=a+bX$ (${}^\exists a,b\in\mathbb{R}$)と表せる。
  このとき、$f(X)\in\operatorname{Ker}(\varphi)$すなわち$\varphi(f(X))=f(\sqrt{-1})=0$であったから、
  \[
    0=f(\sqrt{-1})=(\sqrt{-1}^2+1)q(\sqrt{-1})+r(\sqrt{-1})=r(\sqrt{-1})=a+b\sqrt{-1}=0
  \]
  従って$a=b=0$。
  ゆえに$r(X)=0$となり、$f(X)=(X^2+1)q(X)\in(X^2+1)$である。
  
  以上より、$\operatorname{Ker}(\varphi)=(X^2+1)$が示された。
  したがって、環準同型定理より、$\mathbb{R}[X]/(X^2+1)\cong\operatorname{Im}(\varphi)=\mathbb{C}$が成り立つ。
\end{proof}

環準同型定理はこんな感じで、準同型があればいつでも気楽に使えます。
大学の演習問題で綺麗な準同型作って準同型定理でビシッと決めると、その時だけに分泌される脳内物質の存在を感じます。



\section{ユークリッド整域}

先ほど\textbf{多項式の割り算}をしれっと行いました。
高校数学でもやったことあると思います。
整数の時と同じように、多項式$f$を$g$で割るという操作
\[
  f=gq+r,\quad {}^\exists q,r \text{ s.t. } \deg(r)<\deg(g)
\]
ができるのです。
こうみると、\textbf{ユークリッド互除法}とまったく同じことを多項式でやっていると言えます。
しかし残念ながら、任意の可換環がそのようなアルゴリズムが存在するとは限りません。

まず良くない可能性は、0じゃない元同士の積が0になることがあるということです。
\begin{example}
  $\mathbb{Z}/6\mathbb{Z}$において、$2\times3=0$。
\end{example}
このようなことが起きると、例えば「$f$を$g$で割ります」といっても、$gq=0$となる$q$が存在すると、$f=r$になってしまって「割り算とはいったい…？」という状態になります。
こういう不都合な元には名前がついています。
\begin{definition}
  $A$を可換環とする。$a\in A\setminus\{0\}$が\textbf{零因子}であるとは、ある$b\in A$が存在して、$ab=0$を満たす時を言う。
\end{definition}

零因子がない環というのは素敵なものですので、素敵な名前がついています。
\begin{definition}
  零因子を持たない可換環$A$を\textbf{整域}(\textit{Domain})と呼ぶ。
\end{definition}
別の言い方をすれば、可換環$A$が整域であることとは
\begin{itemize}
  \item 任意の$a\in A$、$b\in A$に対して、$ab=0$ならば$a=0$または$b=0$
  \item $(0)\subset A$は素イデアルである
\end{itemize}
ということです。

さて、整域においてでさえユークリッドの互除法を導くことができません。
整数においても多項式においても、\textbf{剰余の大きさが割った元より小さくなっていかないといけない}のですが、そもそも\textbf{元の大きさ}を可換環の定義では行っていません。
なので、付け加える必要があります。
新たな環の出現です！
\begin{definition}
  整域$A$が\textbf{ユークリッド環}(\textit{Euclidean domain}\footnote{
    直訳すると「ユークリッド整域」になりそうですが、最近の本はユークリッド環と訳すのが主流のような雰囲気をそこはかとなく感じています。
  })であるとは、写像
  \[
    |\cdot|:A\to \mathbb{Z}_{\geq0}
  \]
  が存在して、次を満たす時を言う。
  すなわち、任意の$a,b\in A$に対して、$b\neq0$ならば、ある$q,r\in A$が存在して、
  \[
    a=bq+r
  \]
  を満たし、$r=0$でないならば
  \[|r|<|b|\]
  である。
\end{definition}
