\chapter{可換環論 入門}

Hartshorneに出てくる可換環論の中でも、僕の独断と偏見で基礎的と思われるものを頑張って解説する章です。
とはいえHartshorneは2ページ目で藪から棒に\textit{Furthermore, since $A$ is a \textbf{noetherian ring}, any ideal $\mathfrak{a}$ has a finite set of generators $f_1,\dots,f_r$.}
などとぬかしおるので、可換環の定義から始めて「\textbf{ネーター環の任意のイデアルは有限生成}」まで証明しないと、2ページ目で詰むわけです。
でもセルフコンテインドなテキストを残したい手前、、、とりあえず環準同型定理までを丁寧にやっていきます。

\section{可換環の定義と準同型}

\subsection{可換環の定義}

ざっくり説明すると、「足し算」「引き算」「掛け算」までできることを保証して、「割り算」ができるとは限らないような代数系です。
厳密には次の通りです。
\begin{definition}[可換環]
  $A$を空でない集合、$+:A\times A\to A$、$\cdot:A\times A\to A$をそれぞれ写像、$0,1\in A$とする。
  このとき、$(A,+,\cdot,0,1)$が\textbf{可換環}(単に$A$と表記する)であるとは、任意の$a,b,c\in A$に対して次を満たす時を言う。
  \begin{itemize}
    \item \textbf{演算$+$に関して可換群} 
    \begin{itemize}
      \item \textbf{結合法則} $a+(b+c)=(a+b)+c$
      \item \textbf{単位元} $a+0=0+a=a$
      \item \textbf{逆元} $a+(-a)=(-a)+a=0$ (${}^\exists -a\in A$)
      \item \textbf{可換性} $a+b=b+a$
    \end{itemize}
    \item \textbf{演算$\cdot$に関して可換モノイド}
    \begin{itemize}
      \item \textbf{結合法則} $a\cdot (b\cdot c)=(a\cdot b)\cdot c$
      \item \textbf{単位元} $a\cdot 1=1\cdot a=a$
      \item \textbf{可換性} $a\cdot b=b\cdot a$
    \end{itemize}
    \item \textbf{分配法則}\footnote{
      本来$(a+b)\cdot c=a\cdot c+b\cdot c$も含めるべきかもしれませんが、積の可換性があるのでこれで十分です。
    } $a\cdot(b+c)=a\cdot b+a\cdot c$
  \end{itemize}
\end{definition}
省略記法として、
\begin{align*}
  ab&=a\cdot b\\
  a-b&=a+(-b)
\end{align*}
を用いることがほとんどです。

また、基本的に$1=0$の可能性を排除しません。
もし$1=0$ならば、次のことが成り立ちます。
\begin{theorem}
  $A$を可換環とする。もし$1=0$ならば、$A=\{0\}$。
\end{theorem}
\begin{proof}
  任意の$a\in A$に対して、
  \[
    a=1\cdot a=0\cdot a=0
  \]
\end{proof}

\begin{example}
  整数全体$\mathbb{Z}$、有理数全体$\mathbb{Q}$、実数全体$\mathbb{R}$、複素数全体$\mathbb{C}$は可換環。
  自然数全体$\mathbb{N}$は可換環ではない。
\end{example}

\begin{example}
  可換環$A$に対して、$n$個の未知変数$x_1,\dots,x_n$の有限項からなる多項式がなす全体の集合
  \[
    A[x_1,\dots,x_n]=\left\{\sum_{\text{有限和}} a_{i_1\cdots i_n}x_1^{j_1}\cdots x_n^{j_n}\mid a_{i_1\cdots i_n}\in A\right\}
  \]
  は、通常の和と積に関して可換環となる。
\end{example}

代数幾何学では数論の話題も扱いたいということで、そういうのの中で簡単めなものを紹介しましょう。
ガロア理論では方程式の根を「$\mathbb{Q}$」に添加しましたが、今回は「$\mathbb{Z}$」に添加してみると、これは環になります。
\begin{example}
  多項式$f(x)=x^2+1\in\mathbb{Q}[x]$の根$\sqrt{-1}$に対して、
  \[
    \mathbb{Z}[\sqrt{-1}]:=\{a+b\sqrt{-1}\mid a,b\in\mathbb{Z}\}
  \]
  は可換環である。
  一般に、多項式$f(x)\in\mathbb{Q}[x]$の根$\alpha\in\mathbb{C}$を$\mathbb{Z}$に添加した$\mathbb{Z}[\alpha]$は、可換環である。
\end{example}
このようなものは、おそらくFermat予想へのラメ(Lam\'e)やクンマー(Kummer)の試みとして始めに考えられました。
彼らは奇素数$p$に対して、$1$の原始$p$乗根を添加した可換環$\mathbb{Z}[\zeta_p]$の中で
\[
  z^p=x^p+y^p=\prod_{k=0}^{p-1}(x+\zeta_p^ky)
\]
と因数分解できることに注目しました。
この方向でFermat予想への研究を進める中で、彼らは$p=23$のときに$\mathbb{Z}[\zeta_{23}]$で「素因数分解の一意性」が成り立たないことに気が付きます。
この困難を克服する過程で後述する\textbf{イデアル}がKummerやデデキント(Dedekind)によって考案され、\textbf{代数的整数論}が幕を開けたのです。

\subsection{体}

有り体に言えば、体は可換環の中でも、(0除算以外の)割り算も自由に行える可換環を言います。
\begin{definition}
  可換環$A$が\textbf{体}\footnote{
    可換体と呼ぶべきかもしれませんが、誰もそう呼んでない気がします。非可換体のほうを非可換体と呼んで区別してます。
  }であるとは、$0\neq1$かつ、任意の$a\in A\setminus\{0\}$に対してある$b\in A$が存在して、$ab=1$を満たす時をいう。
\end{definition}
$0\neq1$を定義に含めたので、可換環と違って$\{0\}$は体ではありません。
これは流儀にもよりそうですが、Hartshorneでは$0\neq1$なのでそれに従いましょう。

体そのものの研究については、ガロア理論がその多くを担っている印象が僕にはあります。
代数幾何学でもガロア理論は重要な位置を占めているのですが、それはこの章の「基礎」の範疇ではないでしょう…。
ということで、この章では体は「可換環論の一種」として扱います。

\begin{example}
  先ほど挙げた可換環の例のうち、有理数全体$\mathbb{Q}$、実数全体$\mathbb{R}$、複素数全体$\mathbb{C}$は体である。
\end{example}

\subsection{準同型}

可換環の構造を保つ写像を環準同型写像といいます。
\begin{definition}[環準同型写像]
  $A,B$を環とする。写像$f:A\to B$が\textbf{環準同型写像}であるとは、次を満たす時を言う。
  \begin{itemize}
    \item $f(a+b)=f(a)+f(b)$
    \item $f(ab)=f(a)f(b)$
    \item $f(1)=1$
  \end{itemize}
\end{definition}

次の同型写像が存在するとき、代数的にはそれらの環の構造を区別できないほど同じです。
\begin{definition}
  $A,B$を環とする。写像$f:A\to B$が\textbf{同型写像}であるとは、$f$が全単射な環準同型であって、逆写像も環準同型になっているときをいう。
  可換環$A,B$の間に同型写像が存在するとき、$A$と$B$は互いに\textbf{同型}であるという。
\end{definition}



\section{イデアル}

\subsection{イデアルの定義}

イデアルは、整数環$\mathbb{Z}$における「$n$倍数」を抽象化した概念と言えます。
\begin{definition}[イデアル]
  $A$を可換環とする。部分集合$\mathfrak{a}\subset A$が$A$の\textbf{イデアル}であるとは、次を満たす時を言う。
  \begin{itemize}
    \item $0\in\mathfrak{a}$
    \item $x,y\in \mathfrak{a}\implies x+y\in \mathfrak{a}$
    \item $a\in A, x\in \mathfrak{a}\implies ax\in\mathfrak{a}$
  \end{itemize}
\end{definition}

\subsubsection{イデアルの例}

\begin{example}
  $n$を整数とするとき、$n$の倍数全体の集合
  \[
    (n):=\{an\mid a\in\mathbb{Z}\}
  \]
  は、可換環$\mathbb{Z}$のイデアルである。
\end{example}

上記の例で既に用いてしまいましたが、可換環のいくつかの元が生成するイデアルというものを考えることができます。
\begin{theorem}
  $A$を可換環、$T\subset A$を$A$の部分集合とする。
  このとき、
  \[
    (T):=\left\{\sum_{\text{有限和}}a_ix_i\mid a_i\in A, x_i\in T\right\}
  \]
  は$A$のイデアルである。
\end{theorem}
\begin{proof}
  まず、有限和の係数をすべて0にすれば$0\in(T)$がわかる。
  次に$\sum a_ix_i, \sum b_jy_j\in (T)$ならば$\sum a_ix_i+\sum b_jy_j\in (T)$であることは、有限和ふたつの和が有限和になることからわかる。
  最後に$a\in A$、$\sum b_jy_j\in (T)$ならば、
  \[
    a\sum b_jy_j=\sum (ab_j)y_j\in(T)
  \]
\end{proof}
\begin{definition}
  $A$を可換環、$T\subset A$を$A$の部分集合とする。
  このとき、イデアル
  \[
    (T):=\left\{\sum_{\text{有限和}}a_ix_i\mid a_i\in A, x_i\in T\right\}
  \]
  を、\textbf{$T$が生成するイデアル}と呼ぶ。
  $T$が有限個の元$a_1,\dots,a_n$からなるとき、単に
  \[
    (a_1,\dots,a_n):=(\{a_1,\dots,a_n\})
  \]
  と書く。

  特に一つの元のみから生成されるイデアルを\textbf{単項イデアル}と呼ぶ。
  $a$が生成する単項イデアルは
  \[
    (a),\text{  あるいは  }aA
  \]
  と書かれる。
\end{definition}

\begin{example}
  有理数体$\mathbb{Q}$には、イデアルが
  \[(0)=\{0\},\quad (1)=\mathbb{Q}\]
  の二つしか存在しない。
  実際、$\mathfrak{a}$を$(0)$でないイデアルとすると、ある$x\in\mathfrak{a}$が存在して、$x\neq0$。
  従って、$x^{-1}\in\mathbb{Q}$であるから、
  \[
    1=x^{-1}x\in\mathfrak{a}
  \]
  ゆえに、任意の有理数$q$に対して、
  \[
    q=1\cdot q\in\mathfrak{a}
  \]
  ゆえに$\mathfrak{a}=\mathbb{Q}$
\end{example}

\subsection{素イデアルと極大イデアル}

素数は整数の中でも特別な存在でした。
整数環における素数に対応するイデアルが次の概念です。
\begin{definition}
  $A$を可換環、$A$のイデアル$\mathfrak{p}\neq A$が\textbf{素イデアル}であるとは、任意の$x,y\in A$に対して、次を満たす時を言う。
  \[
    xy\in\mathfrak{p} \implies x\in\mathfrak{p} \text{ or } y\in\mathfrak{p}
  \]
\end{definition}

\subsubsection{素イデアルの例}

\begin{example}
  素数$p$に対して、$p\mathbb{Z}\subset\mathbb{Z}$は素イデアルである\footnote{
    $\mathbb{Z}$の単項イデアルを$(p)$などと書くとややこしいことが多いので、個人的には$p\mathbb{Z}$と書きたいです。
  }。
\end{example}
\begin{proof}
  $xy\in p\mathbb{Z}$、すなわち、ある$a\in \mathbb{Z}$が存在して、$xy=ap$が成り立つとする。
  このとき、素因数分解の一意性から、$x$または$y$は$p$で割り切れなければならない。
  すなわち、もし$x$が$p$で割り切れるならば、$x=x'p$ (${}^\exists x'\in\mathbb{Z}$)。
  これはすなわち$x\in p\mathbb{Z}$を意味する。
  $y$が$p$で割り切れるとしても同様である。
\end{proof}

\begin{example}
  $6\mathbb{Z}\subset\mathbb{Z}$は素イデアルではない。
\end{example}
\begin{proof}
  実際、$2\times3=6\in 6\mathbb{Z}$であるが、$2$と$3$は$6$で割り切れないから$2\notin 6\mathbb{Z}$かつ$3\notin 6\mathbb{Z}$。
\end{proof}

\begin{example}
  $\mathbb{C}[X,Y]$を$\mathbb{C}$上の2変数多項式環とする。
  このとき、$(X)\subset\mathbb{C}[X,Y]$は素イデアルである。
\end{example}
\begin{proof}
  $fg\in(X)$、すなわち、$fg=hX$ (${}^\exists h\in\mathbb{C}[X,Y]$)とする。
  このとき、$X$に関するそれぞれの定数項$f(0,Y)$、$g(0,Y)$を考えると、
  \[
    f(0,Y)g(0,Y)=h(0,Y)\cdot0=0
  \]
  であるから、$f,g$の$X$に関する定数項の積は0となる。
  ゆえにどちらかの$X$に関する定数項は0であるから、$f$か$g$どちらかは$X$で括れる形になっている。
  すなわち$f\in(X)$または$g\in(X)$
\end{proof}
幾何学的には、このイデアル$X$は平面において$X=0$という図形、すなわち$Y$軸を表わしています。
雑に言ってしまえば、既約多項式$f$が生成するイデアル$(f)$を、$f$のゼロ点集合と同一視しているのです。

\subsection{極大イデアル}

包含関係に関して極大なイデアルを極大イデアルといいます。
\begin{definition}
  $A$を可換環とする。イデアル$\mathfrak{m}\subset A$が\textbf{極大イデアル}であるとは、次を満たす時を言う。
  もし$\mathfrak{m}\subset\mathfrak{a}\subset A$となるイデアル$\mathfrak{a}$が存在するならば、$\mathfrak{a}=\mathfrak{m}$または$\mathfrak{a}=A$。
\end{definition}

\subsubsection{極大イデアルの例}

\begin{example}
  素数$p$に対して、$p\mathbb{Z}\subset\mathbb{Z}$は極大イデアルである。
\end{example}
\begin{proof}
  もし$p\mathbb{Z}\subsetneq\mathfrak{a}\subset\mathbb{Z}$となるイデアル$\mathfrak{a}$が存在したとすると、$\mathfrak{a}$には$p$の倍数でない整数$x$が存在する。
  $p$は素数ゆえ、$x$と$p$は互いに素となる。
  ここでユークリッドの互除法より$pn+xy=1$をみたす$n,y\in\mathbb{Z}$が存在し、$p,x\in\mathfrak{a}$であるから、$1=pn+xy\in\mathfrak{a}$となる。
  従って、任意の$m\in\mathbb{Z}$に対して、$m=1\cdot m\in\mathfrak{a}$となり、$\mathfrak{a}=\mathbb{Z}$
\end{proof}

この証明の中でイデアルに1が含まれると必ず全体になるというふうに読める部分がありますが、実際これは一般に成り立ちます。
\begin{theorem}
  $A$を可換環、$\mathfrak{a}\subset A$をイデアルとする。もし$1\in\mathfrak{a}$ならば、$\mathfrak{a}=A$
\end{theorem}
\begin{proof}
  任意の$a\in A$に対して$a=1\cdot a\in\mathfrak{a}$ゆえ$A\subset\mathfrak{a}$。
  当然$\mathfrak{a}\subset A$でもあるから、$\mathfrak{a}=A$が従う。
\end{proof}

従って、体のイデアルは一般的に二種類しかありません。
\begin{theorem}
  $K$を体とする。このとき、$K$のイデアルは$(0)$と$(1)=K$のみである。
\end{theorem}
\begin{proof}
  $\mathfrak{a}$を$K$の$(0)$でないイデアルとすると、ある元$a\in\mathfrak{a}$が存在して、$a\neq0$。
  $K$は体だから$a^{-1}\in K$ゆえ、$1\in a^{-1}a\in\mathfrak{a}$となり、$\mathfrak{a}=K$が従う。
\end{proof}

実はこの逆も成り立ちます。
\begin{theorem}
  $A$を可換環とする。このとき、$A$が体であることと、$A$のイデアルが$(0)$と$(1)$しかないことは同値である。
\end{theorem}
\begin{proof}
  体ならばイデアルが$(0)$と$(1)$しかないことは既に確かめた。
  逆にイデアルが$(0)$と$(1)$しかないとする。
  このとき、任意の$a\in A\setminus\{0\}$に対して、$a$が生成するイデアル$(a)$は$(0)$か$(1)$のどちらかになる。

  $(a)=(0)$とすると、$a\in(0)$より、任意の$b\in A$に対して$ba\in(0)=\{0\}$ゆえに$ba=0$。
  特に$b=1$のとき、$a=0$となる。
  これは$a\in A\setminus\{0\}$ととったことに矛盾する。

  $(a)=(1)$とすると、$1\in(a)$より、ある$c\in A$が存在して、$ca=1$。
  これは$c$が$a$の逆元であることを意味している。
\end{proof}

\begin{example}
  $\mathbb{C}[X,Y]$を$\mathbb{C}$上の2変数多項式環とする。
  このとき、$(X,Y)\subset\mathbb{C}[X,Y]$は極大イデアルである。
\end{example}
\begin{proof}
  定義から
  \[
    (X,Y)=\left\{\sum_{i_1=1}^{r_1}\sum_{i_2=1}^{r_2}a_{i_1i_2}X^{i_1}Y^{i_2}\mid a_{i_1i_2}\in\mathbb{C}\right\}
  \]
  であったことから、イデアル$(X,Y)$は定数項が0の多項式全体の集合であることに注意する。
  $(X,Y)\subsetneq\mathfrak{a}\subset\mathbb{C}[X,Y]$とする。
  このとき、ある$f\in\mathfrak{a}$が存在して、$f\notin(X,Y)$。
  つまり$f$は定数項$f(0,0)$が0ではない多項式である。
  \[
    f(X,Y)-f(0,0)\in(X,Y)\subset\mathfrak{a}
  \]
  であるから、
  \[
    1=\frac{f(X,Y)-(f(X,Y)-f(0,0))}{f(0,0)}=\frac{1}{f(0,0)}f(X,Y)-\frac{1}{f(0,0)}(f(X,Y)-f(0,0))\in\mathfrak{a}
  \]
  となり、$\mathfrak{a}=\mathbb{C}[X,Y]$が従う。
\end{proof}
幾何学的に言えば、この例に出てきた極大イデアル$(X,Y)$は原点$X=Y=0$にあたります。
雑に言って、可換環の素イデアルを既約多項式のゼロ点集合とみなし、極大イデアルを1点集合とみなします。
イデアルは可換環があれば定義できるので、ここに一般の可換環を幾何学の舞台に引きずり出すことができるのです！
後に整数環$\mathbb{Z}$において素数が生成する素イデアルが、実は極大イデアルでもあることを示します。
素数が「点」であるとは一体何なのでしょう！？

\subsubsection{極大イデアルは素イデアル}
一般に、極大イデアルは素イデアルです。
\begin{theorem}
  $A$を可換環とする。イデアル$\mathfrak{m}\subset A$が極大イデアルならば、$\mathfrak{m}$は素イデアルである。
\end{theorem}
\begin{proof}
  背理法によって証明する。
  $ab\in\mathfrak{m}$かつ、$a\notin\mathfrak{m}$かつ$b\notin\mathfrak{m}$を満たす$a,b\in A$が存在するとする。
  このとき
  \[
    \mathfrak{a}:=\{ax+y\mid x\in A, y\in\mathfrak{m}\}
  \]
  とおくと、これはイデアルである。
  実際、あきらかに$0\in\mathfrak{a}$。
  また、$ax+y,ax'+y'\in\mathfrak{a}$とすると、$x+x'\in A$、$y+y'\in\mathfrak{m}$であるから、
  \[
    (ax+y)+(ax'+y')=a(x+x')+(y+y')\in\mathfrak{a}
  \]
  最後に、$c\in A$、$ax+y\in\mathfrak{a}$とすると、$cx\in A$、$cy\in\mathfrak{m}$であるから、
  \[
    c(ax+y)=a(cx)+cy\in\mathfrak{a}
  \]
  ゆえに$\mathfrak{a}$は$A$のイデアルである。

  また$\mathfrak{m}\subsetneq\mathfrak{a}$である。
  実際、$ax+y$の表式において$x=0$とすれば、任意の$\mathfrak{m}$の元が$\mathfrak{a}$に含まれることがわかる。
  一方で$a\notin\mathfrak{m}$であるが、あきらかに$a\in\mathfrak{a}$であるから、$\mathfrak{m}\subsetneq\mathfrak{a}$である。

  $\mathfrak{m}$は極大イデアルであるから、従って$\mathfrak{a}=A$となる。
  従って、ある$x\in A$と$y\in\mathfrak{m}$が存在して、
  \[
    ax+y=1
  \]
  をみたす。この両辺に$b$を掛けると、
  \[
    abx+by=b
  \]
  であるが、$ab\in\mathfrak{m}$かつ$y\in\mathfrak{m}$だったため、$b\in\mathfrak{m}$となるが、これは矛盾である。
\end{proof}

この逆、つまり「素イデアルは極大イデアル」は一般に成り立ちません。
\begin{example}
  $\mathbb{C}[X,Y]$を$\mathbb{C}$上の2変数多項式環とする。
  このとき、$(X)\subset\mathbb{C}[X,Y]$は素イデアルであるが、極大イデアルではない。
\end{example}
\begin{proof}
  たとえば$(X,Y)$は$(X)$を含む極大イデアルである。
\end{proof}
このことは、幾何学的直観からもわかりますね。



\begin{comment}
  必要になったら必要になったところに移動する。
\section{イデアル演算}

極大イデアル$\mathfrak{m}$が素イデアルであることを証明するために、$a\in A$に対して
\[
  \{ax+y\mid x\in A, y\in\mathfrak{m}\}
\]
というイデアルを作りました。
この考えを一般化することができます。
\begin{theorem}
  $A$を可換環、$\mathfrak{a},\mathfrak{b}$を$A$のイデアルとする。
  このとき、
  \[
    \mathfrak{c}:=\{x+y\mid x\in\mathfrak{a},y\in\mathfrak{b}\}
  \]
  はイデアルである。
\end{theorem}
\begin{proof}
  $0\in\mathfrak{c}$は自明。
  $x+y,x'+y'\in\mathfrak{c}$とすると、$x+x'\in\mathfrak{a}$、$y+y'\in\mathfrak{b}$より
  \[
    (x+y)+(x'+y')=(x+x')+(y+y')\in\mathfrak{c}
  \]
  最後に、$a\in A$、$x+y\in\mathfrak{c}$とすると、$ax\in\mathfrak{a}$、$ay\in\mathfrak{b}$より
  \[
    a(x+y)=ax+ay\in\mathfrak{c}
  \]
\end{proof}
\begin{definition}
  $A$を可換環、$\mathfrak{a},\mathfrak{b}$を$A$のイデアルとする。
  このとき、イデアル
  \[
    \mathfrak{a}+\mathfrak{b}:=\{x+y\mid x\in\mathfrak{a},y\in\mathfrak{b}\}
  \]
  を$\mathfrak{a}$と$\mathfrak{b}$の和という。
\end{definition}
有限個のイデアルの和も帰納的に定義できます。
無限個のイデアルのときは次のように定義します。
\begin{theorem}
  $A$を可換環、$\{\mathfrak{a}_i\}_{i\in I}$を$A$のイデアルの族とする。
  このとき、
  \[
    \mathfrak{b}:=\{\sum_{i\in I}x_i\mid x_i\in\mathfrak{a}_i, \text{有限個の$i\in I$を除いて$x_i=0$}\}
  \]
  はイデアルである。
\end{theorem}
\end{comment}



\section{剰余環}

高校時代に理系だった人は、大学受験の裏技として$\mod$を習ったかもしれません。
例えば
\[
  x\equiv y\mod n
\]
と書けば、これは「$x$を$n$で割った余りと、$y$を$n$で割った余りは等しい」と読むのでした。
そうなると、整数は
\begin{itemize}
  \item $n$の倍数
  \item $n$で割って$1$余る
  \item $n$で割って$2$余る
  \item \dots
  \item $n$で割って$n-1$余る
\end{itemize}
によって完全に分類できています。
また、
\begin{align*}
  x\equiv y\mod n &\implies x+c\equiv y+c\mod n\\
  x\equiv y\mod n &\implies x-c\equiv y-c\mod n\\
  x\equiv y\mod n &\implies ax\equiv ay\mod n
\end{align*}
が成り立つことから、環の構造が見えてきます。
この考えを一般化したものが剰余環です。
発想は単純ですが、ちゃんと考えないといけないことが結構あります。
見ていきましょう。
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をイデアルとする。
  このとき、$x,y\in A$に対して、$x\equiv y\mod\mathfrak{a}$であることを
  \[
    x-y\in\mathfrak{a}
  \]
  であることと定義すると、この関係は同値関係である。
\end{theorem}
\begin{proof}
  $x\in A$に対して、$x-x=0\in\mathfrak{a}$であるから、反射律を満たす。
  $x\equiv y\mod \mathfrak{a}$であるとすると、すなわち$x-y\in\mathfrak{a}$である。
  $\mathfrak{a}$がイデアルであることから、$y-x=-(x-y)\in\mathfrak{a}$。すなわち対称律を満たす。
  $x\equiv y\mod \mathfrak{a}$かつ$y\equiv z\mod \mathfrak{a}$とすると、$x-y,y-z\in\mathfrak{a}$であるから、$x-z=(x-y)+(y-z)\in\mathfrak{a}$。
  ゆえに推移律も満たす。
\end{proof}
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をイデアルとする。
  同値関係$x\equiv y\mod\mathfrak{a}$による剰余集合を$A/\mathfrak{a}$と書く。
  また、$x\in A$が含まれる同値類を$x+\mathfrak{a}\in A/\mathfrak{a}$と書く。
  このとき、写像
  \[
    A/\mathfrak{a}\times A/\mathfrak{a}\to A/\mathfrak{a};(x+\mathfrak{a},y+\mathfrak{a})\mapsto x+y+\mathfrak{a}
  \]
  はwell-definedである。
\end{theorem}
\begin{proof}
  $x\equiv x'\mod\mathfrak{a}$、$y\equiv y'\mod\mathfrak{a}$とすると、$x-x',y-y'\in\mathfrak{a}$より、
  \[
    (x+y)-(x'+y')=(x-x')+(y-y')\in\mathfrak{a}
  \]
  ゆえに$x+y\equiv x'+y'\mod\mathfrak{a}$
\end{proof}
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をイデアルとする。
  同値関係$x\equiv y\mod\mathfrak{a}$による剰余集合を$A/\mathfrak{a}$と書く。
  また、$x\in A$が含まれる同値類を$x+\mathfrak{a}\in A/\mathfrak{a}$と書く。
  このとき、写像
  \[
    A/\mathfrak{a}\times A/\mathfrak{a}\to A/\mathfrak{a};(x+\mathfrak{a},y+\mathfrak{a})\mapsto xy+\mathfrak{a}
  \]
  はwell-definedである。
\end{theorem}
\begin{proof}
  $x\equiv x'\mod\mathfrak{a}$、$y\equiv y'\mod\mathfrak{a}$とすると、$x-x',y-y'\in\mathfrak{a}$より、
  \[
    xy-x'y'=xy-x'y+x'y-x'y'=y(x-x')+x'(y-y')\in\mathfrak{a}
  \]
  ゆえに$xy\equiv x'y'\mod\mathfrak{a}$
\end{proof}
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をイデアルとする。
  また、$x\in A$が含まれる同値類を$x+\mathfrak{a}\in A/\mathfrak{a}$と書く\footnote{
    すなわち、$y\in x+\mathfrak{a}\iff x\equiv y \mod \mathfrak{a}$
  }。
  このとき$A/\mathfrak{a}$は、
  \[
    +:A/\mathfrak{a}\times A/\mathfrak{a}\to A/\mathfrak{a};(x+\mathfrak{a},y+\mathfrak{a})\mapsto x+y+\mathfrak{a}
  \]
  を加法、
  \[
    \cdot:A/\mathfrak{a}\times A/\mathfrak{a}\to A/\mathfrak{a};(x+\mathfrak{a},y+\mathfrak{a})\mapsto xy+\mathfrak{a}
  \]
  を乗法とし、
  \[0+\mathfrak{a}, 1+\mathfrak{a}\]
  をそれぞれ加法単位元、乗法単位元として、可換環をなす。
\end{theorem}
\begin{proof}
  任意の$x+\mathfrak{a}, y+\mathfrak{a}, z+\mathfrak{a}\in A/\mathfrak{a}$に対して、
  \begin{itemize}
    \item 和に関する結合法則：$x+\mathfrak{a}+(y+\mathfrak{a}+z+\mathfrak{a})=x+\mathfrak{a}+(y+z)+\mathfrak{a}=(x+(y+z))+\mathfrak{a}=((x+y)+z)+\mathfrak{a}=(x+y)+\mathfrak{a}+z+\mathfrak{a}=(x+\mathfrak{a}+y+\mathfrak{a})+z+\mathfrak{a}$
    \item 和に関する単位元：$0+\mathfrak{a}+x+\mathfrak{a}=(0+x)+\mathfrak{a}=x+\mathfrak{a}$、$x+\mathfrak{a}+0+\mathfrak{a}=(x+0)+\mathfrak{a}=x+\mathfrak{a}$
    \item 和に関する逆元：$x+\mathfrak{a}+(-x)+\mathfrak{a}=(x-x)+\mathfrak{a}=0+\mathfrak{a}$、$-x+\mathfrak{a}+x+\mathfrak{a}=(-x+x)+\mathfrak{a}=0+\mathfrak{a}$
    \item 積に関する結合法則：$(x+\mathfrak{a})\{(y+\mathfrak{a})(z+\mathfrak{a})\}=(x+\mathfrak{a})(yz+\mathfrak{a})=x(yz)+\mathfrak{a}=(xy)z+\mathfrak{a}=(xy+\mathfrak{a})(z+\mathfrak{a})=\{(x+\mathfrak{a})(y+\mathfrak{a})\}(z+\mathfrak{a})$
    \item 積に関する単位元：$(1+\mathfrak{a})(x+\mathfrak{a})=1\cdot x+\mathfrak{a}=x+\mathfrak{a}$、$(x+\mathfrak{a})(1+\mathfrak{a})=x\cdot1+\mathfrak{a}=x+\mathfrak{a}$
    \item 積の可換性：$(x+\mathfrak{a})(y+\mathfrak{a})=xy+\mathfrak{a}=yx+\mathfrak{a}=(y+\mathfrak{a})(x+\mathfrak{a})$
    \item 分配法則：$(x+\mathfrak{a})(y+\mathfrak{a}+z+\mathfrak{a})=(x+\mathfrak{a})(y+z+\mathfrak{a})=x(y+z)+\mathfrak{a}=xy+xz+\mathfrak{a}=xy+\mathfrak{a}+xz+\mathfrak{a}$
  \end{itemize}
\end{proof}

\subsection{剰余環の例}

\begin{example}
  $\mathbb{Z}/n\mathbb{Z}$は$n$個の元からなる可換環である。
  \[
    \mathbb{Z}/n\mathbb{Z}=\{0+n\mathbb{Z},1+n\mathbb{Z},2+n\mathbb{Z},\dots,n-1+n\mathbb{Z}\}
  \]
  たとえば$n=3$のときの和と積の表は次のようになる。
  \[
    \begin{array}{c|ccc}
      + & 0 & 1 & 2\\\hline
      0 & 0 & 1 & 2\\
      1 & 1 & 2 & 0\\
      2 & 2 & 0 & 1
    \end{array}
    \qquad
    \begin{array}{c|ccc}
      \cdot & 0 & 1 & 2\\\hline
      0 & 0 & 0 & 0\\
      1 & 0 & 1 & 2\\
      2 & 0 & 2 & 1
    \end{array}
  \]
\end{example}

\begin{example}
  $\mathbb{R}[X]/(X^2+1)$において、$X$を含む同値類$X+(X^2+1)$は虚数と同じ役割を果たす。
  実際、
  \[
    (X+(X^2+1))(X+(X^2+1))=X^2+(X^2+1)
  \]
  であるが、もちろん$X^2-(-1)=X^2+1\in(X^2+1)$のため、$X^2\equiv-1\mod(X^2+1)$。
  ゆえに
  \[
    (X+(X^2+1))(X+(X^2+1))=-1+(X^2+1)
  \]
\end{example}

剰余環には以下のような自然な準同型が存在して、重要なものだったりします。
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をそのイデアルとする。
  このとき、写像
  \[
    \pi:A\to A/\mathfrak{a};x\mapsto x+\mathfrak{a}
  \]
  は環準同型である。
\end{theorem}
\begin{proof}
  任意の$x,y\in A$に対して、
  \begin{itemize}
    \item $\pi(x+y)=x+y+\mathfrak{a}=x+\mathfrak{a}+y+\mathfrak{a}=\pi(x)+\pi(y)$
    \item $\pi(xy)=xy+\mathfrak{a}=(x+\mathfrak{a})(y+\mathfrak{a})=\pi(x)\pi(y)$
    \item $\pi(1)=1+\mathfrak{a}$
  \end{itemize}
\end{proof}

自然な準同型$\pi:A\to A/\mathfrak{a}$の何が自然かっていうのは、まあ色々ありますが\footnote{
  色々の例：オウフｗｗｗいわゆるストレートな質問キタコレですねｗｗｗ
  おっとっとｗｗｗ拙者『キタコレ』などとついネット用語がｗｗｗ
  まあ拙者の場合『自然』とは言っても、いわゆる日常言語としての自然(Natural)でなく
  圏論的な自然変換(Natural Transformation)として見ているちょっと変わり者ですのでｗｗｗ
  マックレーンの影響がですねｗｗｗｗ
  ドプフォｗｗｗついマニアックな知識が出てしまいましたｗｗｗいや失敬失敬ｗｗｗ
  まあ単なる核を含む射の因数分解としての普遍性は純粋によく書けてるなと賞賛できますがｗｗｗ
  私みたいに一歩引いた見方をするとですねｗｗｗ
  可換環とイデアルのペアがなす圏$C$と可換環の圏$D$における忘却関手から始まる左随伴の列$((A,I)\mapsto A/I)\dashv (A\mapsto(A,0))\dashv (\text{忘却関手})$としてのですねｗｗｗ
  $\operatorname{Hom}_D(A/I,B)\cong\operatorname{Hom}_C((A,I),(B,0))$が導く$\pi$の必然性がですねｗｗｗｗ
  フォカヌポウｗｗｗ拙者これではまるで数学徒みたいｗｗｗ
  拙者は数学徒ではござらんのでｗｗｗコポォ
}、今回はイデアルの間に綺麗な対応関係を引き起こすことを紹介しましょう。
この対応関係はHartshorneでも多用するはずです。
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をそのイデアル、$\pi:A\to A/\mathfrak{a}$を自然な準同型とする。
  このとき、$A/\mathfrak{a}$のイデアル$\mathfrak{b}$に対して、
  \[
    \pi^{-1}(\mathfrak{b}):=\{x\in A\mid \pi(x)\in\mathfrak{b}\}
  \]
  は$A$のイデアルである。
\end{theorem}
\begin{proof}
  まず、$\pi(0)=0+\mathfrak{a}\in\mathfrak{b}$より$0\in\pi^{-1}(\mathfrak{b})$。
  次に$x,y\in\pi^{-1}(\mathfrak{b})$すなわち$\pi(x),\pi(y)\in\mathfrak{b}$とすると、
  $\pi(x+y)=\pi(x)+\pi(y)\in\mathfrak{b}$。
  ゆえに$x+y\in\pi^{-1}(\mathfrak{b})$。
  最後に、$a\in A$、$x\in\pi^{-1}(\mathfrak{b})$すなわち$\pi(x)\in\mathfrak{b}$とすると、$\pi(ax)=\pi(a)\pi(x)\in\mathfrak{b}$。
  ゆえに$ax\in\pi^{-1}(\mathfrak{b})$。
  以上より、$\pi^{-1}(\mathfrak{b})$は$A$のイデアルである。
\end{proof}

逆に、$\mathfrak{a}$を含む$A$のイデアルから$A/\mathfrak{a}$のイデアルを作ることもできます。
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をそのイデアル、$\pi:A\to A/\mathfrak{a}$を自然な射影とする。
  このとき、$\mathfrak{a}\subset\mathfrak{b}$を満たす$A$のイデアル$\mathfrak{b}$に対して、
  \[
    \pi(\mathfrak{b}):=\{\pi(x)\in A/\mathfrak{a}\mid x\in\mathfrak{b}\}
  \]
  は$A/\mathfrak{a}$のイデアルである。
\end{theorem}
\begin{proof}
  まず、$0+\mathfrak{a}=\pi(0)\in\pi(\mathfrak{b})$である。
  次に、$\pi(x),\pi(y)\in\pi(\mathfrak{b})$、($x,y\in\mathfrak{b}$)とすると、$x+y\in\mathfrak{b}$。
  ゆえに$\pi(x)+\pi(y)=\pi(x+y)\in\pi(\mathfrak{b})$。
  最後に、$\pi(a)\in A/\mathfrak{a}$、$\pi(x)\in\pi(\mathfrak{b})$ ($a\in A$、$x\in\mathfrak{b}$)とすると、$ax\in\mathfrak{b}$。
  ゆえに$\pi(a)\pi(x)=\pi(ax)\in\pi(\mathfrak{b})$。
  以上より、$\pi(\mathfrak{b})$は$A/\mathfrak{a}$のイデアルである。
\end{proof}

実は、これらの対応は互いに逆写像になっています。
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をそのイデアル、$\pi:A\to A/\mathfrak{a}$を自然な準同型とする。
  このとき、次の写像は全単射である。
  \[
    \varphi:\{\mathfrak{b}\mid\mathfrak{b}\text{は$A$のイデアルかつ、}\mathfrak{a}\subset\mathfrak{b}\}\to\{\mathfrak{c}\mid\mathfrak{c}\text{は$A/\mathfrak{a}$のイデアル}\}; \mathfrak{b}\mapsto \pi(\mathfrak{b})
  \]
\end{theorem}
\begin{proof}
  写像
  \[
    \psi:\{\mathfrak{c}\mid\mathfrak{c}\text{は$A/\mathfrak{a}$のイデアル}\}\to\{\mathfrak{b}\mid\mathfrak{b}\text{は$A$のイデアルかつ、}\mathfrak{a}\subset\mathfrak{b}\};\mathfrak{c}\mapsto\pi^{-1}(\mathfrak{c})
  \]
  が$\varphi$の逆写像になっていることを示す。

  まず$A/\mathfrak{a}$のイデアル$\mathfrak{c}$に対して、$\varphi(\psi(\mathfrak{c}))=\mathfrak{c}$すなわち$\pi(\pi^{-1}(\mathfrak{c}))=\mathfrak{c}$を示す。
  ところがこれは$\pi$が全射であることと、集合論における写像の一般論から明らかである。

  次に$\mathfrak{a}\subset\mathfrak{b}$を満たす$A$のイデアル$\mathfrak{b}$に対して、$\psi(\varphi(\mathfrak{b}))=\pi^{-1}(\pi(\mathfrak{b}))=\mathfrak{b}$を示す。
  $\mathfrak{b}\subset\pi^{-1}(\pi(\mathfrak{b}))$は集合論における写像の一般論から明らかである。
  逆に、$x\in\pi^{-1}(\pi(\mathfrak{b}))$とすると、$\pi(x)\in\pi(\mathfrak{b})$である。
  ゆえに、ある$y\in\mathfrak{b}$が存在して、$\pi(x)=\pi(y)$、つまり$x-y\in\mathfrak{a}\subset\mathfrak{b}$。
  ゆえに$x=(x-y)+y\in\mathfrak{b}$。
  以上より$\psi(\varphi(\mathfrak{b}))=\pi^{-1}(\pi(\mathfrak{b}))$が示された。

  ゆえに$\varphi$は全単射であり、その逆写像は$\psi$である。
\end{proof}
\begin{theorem}[イデアル間の順序同型]
  $A$を可換環、$\mathfrak{a}$をそのイデアル、$\pi:A\to A/\mathfrak{a}$を自然な準同型とする。
  このとき、次の全単射
  \[
    \varphi:\{\mathfrak{b}\mid\mathfrak{b}\text{は$A$のイデアルかつ、}\mathfrak{a}\subset\mathfrak{b}\}\to\{\mathfrak{c}\mid\mathfrak{c}\text{は$A/\mathfrak{a}$のイデアル}\}; \mathfrak{b}\mapsto \pi(\mathfrak{b})
  \]
  は、包含関係を保つ。すなわち、$\mathfrak{b},\mathfrak{b}'$を$\mathfrak{a}$を含む$A$のイデアルであり、かつ$\mathfrak{b}\subset\mathfrak{b}'$を満たすならば、$\varphi(\mathfrak{b})\subset\varphi(\mathfrak{b}')$。
  また逆に、$\mathfrak{c},\mathfrak{c}'$は$A/\mathfrak{a}$のイデアルであり、$\mathfrak{c}\subset\mathfrak{c}'$を満たすとき、$\varphi^{-1}(\mathfrak{c})\subset\varphi^{-1}(\mathfrak{c}')$。
\end{theorem}
\begin{proof}
  まず$\mathfrak{b}\subset\mathfrak{b}'$ならば$\varphi(\mathfrak{b})\subset\varphi(\mathfrak{b}')$すなわち$\pi(\mathfrak{b})\subset\pi(\mathfrak{b})$を示さねばならないが、これは集合論における写像の一般論から明らか。
  $\mathfrak{c}\subset\mathfrak{c}'$ならば$\varphi^{-1}(\mathfrak{c})\subset\varphi^{-1}(\mathfrak{c}')$も同様である。
\end{proof}

\subsection{剰余環を使った極大イデアル判定法}

イデアル間の順序同型定理を紹介しただけではピンと来ないかもしれません。
ひとつ、使い道を教えましょう。
可換環のイデアルが素イデアルかどうか、あるいは極大イデアルかどうかを、剰余環の性質から判定することができます。
最初に簡単な極大イデアルの方から見ていきましょう。
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をそのイデアルとする。
  このとき、$\mathfrak{a}$が極大イデアルであることと、$A/\mathfrak{a}$が体であることは同値である。
\end{theorem}
\begin{proof}
  自然な準同型
  \[
    \pi:A\to A/\mathfrak{a}
  \]
  が誘導するイデアル間の順序同型定理を用いて証明する。

  まず$\mathfrak{a}$を極大イデアルとする。
  このとき、$A/\mathfrak{a}$のイデアルが$(0+\mathfrak{a})$と$(1+\mathfrak{a})$しかないことを示すことで、$A/\mathfrak{a}$が体であることを証明する。
  $\mathfrak{b}$を$A/\mathfrak{a}$のイデアルとする。
  このとき、$\pi^{-1}(\mathfrak{b})$は$\mathfrak{a}$を含む$A$のイデアルである。
  $\mathfrak{a}$は極大イデアルであるから、$\pi^{-1}(\mathfrak{b})=\mathfrak{a}$または$\pi^{-1}(\mathfrak{b})=A$である。
  $\pi^{-1}(\mathfrak{b})=\mathfrak{a}$のとき、$\mathfrak{b}=\pi(\pi^{-1}(\mathfrak{b}))=\pi(\mathfrak{a})=(0+\mathfrak{a})$である。
  $\pi^{-1}(\mathfrak{b})=A$のとき、$\mathfrak{b}=\pi(\pi^{-1}(\mathfrak{b}))=\pi(A)=A/\mathfrak{a}=(1+\mathfrak{a})$である。
  以上より、$A/\mathfrak{a}$のイデアルは$(0+\mathfrak{a})$と$(1+\mathfrak{a})$のみである。
  したがって、$A/\mathfrak{a}$は体である。

  逆に、$A/\mathfrak{a}$が体であるとする。
  このとき、$A/\mathfrak{a}$のイデアルは$(0+\mathfrak{a})$と$(1+\mathfrak{a})$のみである。
  $\mathfrak{b}$を$\mathfrak{a}$を含む$A$のイデアルとする。
  このとき、$\pi(\mathfrak{b})$は$A/\mathfrak{a}$のイデアルであるから、$\pi(\mathfrak{b})=(0+\mathfrak{a})$または$\pi(\mathfrak{b})=(1+\mathfrak{a})$である。
  $\pi(\mathfrak{b})=(0+\mathfrak{a})$のとき、任意の$x\in\mathfrak{b}$に対して$\pi(x)\in(0+\mathfrak{a})$、すなわち$x+\mathfrak{a}=0+\mathfrak{a}$であるから、$x\in\mathfrak{a}$。
  ゆえに$\mathfrak{b}\subset\mathfrak{a}$。
  $\mathfrak{a}\subset\mathfrak{b}$でもあるから、$\mathfrak{b}=\mathfrak{a}$である。
  $\pi(\mathfrak{b})=(1+\mathfrak{a})$のとき、$1+\mathfrak{a}\in\pi(\mathfrak{b})$であるから、ある$x\in\mathfrak{b}$が存在して、$\pi(x)=1+\mathfrak{a}$、すなわち$x-1\in\mathfrak{a}$。
  $\mathfrak{a}\subset\mathfrak{b}$であるから、$x-1\in\mathfrak{b}$。
  ゆえに$1=x-(x-1)\in\mathfrak{b}$となり、$\mathfrak{b}=A$である。
  以上より、$\mathfrak{a}$を含む$A$のイデアルは$\mathfrak{a}$と$A$のみである。
  したがって、$\mathfrak{a}$は極大イデアルである。
\end{proof}

\begin{comment}
  TODO ユークリッド整域の後に、タイミングがいいところに入れる
次に、素イデアルについても同様の判定法があります。
\begin{theorem}
  $A$を可換環、$\mathfrak{a}$をそのイデアルとする。
  このとき、$\mathfrak{a}$が素イデアルであることと、$A/\mathfrak{a}$が整域であることは同値である。
\end{theorem}
\begin{proof}
  自然な準同型
  \[
    \pi:A\to A/\mathfrak{a}
  \]
  を用いて証明する。

  まず$\mathfrak{a}$を素イデアルとする。
  このとき、$A/\mathfrak{a}$が整域であること、すなわち零因子を持たないことを示す。
  $(x+\mathfrak{a})(y+\mathfrak{a})=0+\mathfrak{a}$を満たす$x+\mathfrak{a},y+\mathfrak{a}\in A/\mathfrak{a}$が存在するとする。
  このとき、$xy+\mathfrak{a}=0+\mathfrak{a}$、すなわち$xy\in\mathfrak{a}$である。
  $\mathfrak{a}$は素イデアルであるから、$x\in\mathfrak{a}$または$y\in\mathfrak{a}$である。
  すなわち、$x+\mathfrak{a}=0+\mathfrak{a}$または$y+\mathfrak{a}=0+\mathfrak{a}$である。
  以上より、$A/\mathfrak{a}$は零因子を持たない。
  したがって、$A/\mathfrak{a}$は整域である。

  逆に、$A/\mathfrak{a}$が整域であるとする。
  このとき、$xy\in\mathfrak{a}$を満たす$x,y\in A$が存在するとする。
  このとき、$(x+\mathfrak{a})(y+\mathfrak{a})=xy+\mathfrak{a}=0+\mathfrak{a}$である。
  $A/\mathfrak{a}$は整域であるから、$x+\mathfrak{a}=0+\mathfrak{a}$または$y+\mathfrak{a}=0+\mathfrak{a}$である。
  すなわち、$x\in\mathfrak{a}$または$y\in\mathfrak{a}$である。
  以上より、$\mathfrak{a}$は素イデアルである。
\end{proof}
\end{comment}

ちゃんと書くと長いだけです。
頑張ってこんなのを読むより自分で考えた方が早いぐらい、簡単なことしか書いてないです。

次に簡単な運用例を示しましょう。
\begin{example}
  可換環$\mathbb{Z}$において、素数$p$が生成するイデアルは極大イデアルである。
\end{example}
\begin{proof}
  $\mathbb{Z}/p\mathbb{Z}$が体であることを示せばよい。
  $a+p\mathbb{Z}\neq0+p\mathbb{Z}$、すなわち$a\notin p\mathbb{Z}$であるとする。
  従って$a$は$p$の倍数ではないが、$p$は素数であるため$a$と$p$は互いに素である。
  ゆえにユークリッドの互除法により、ある整数$x,y$が存在して、
  \[
    ax+py=1 \text{ すなわち } ax=1-py
  \]
  を満たす。
  ゆえに
  \[
    ax+p\mathbb{Z}=1-py+p\mathbb{Z}=1+p\mathbb{Z}
  \]
  となる。すなわち$x+p\mathbb{Z}\in\mathbb{Z}/p\mathbb{Z}$は$a+p\mathbb{Z}$の逆元となる。
  以上より、$\mathbb{Z}/p\mathbb{Z}$は体となり、従って$p\mathbb{Z}$は極大イデアルである。
\end{proof}

他の可換環やイデアルにこの判定法をうまく運用するには、次の環準同型定理を知っておくとよいでしょう。



\section{環準同型定理}

剰余環には、「イデアルで環をつぶす」という感覚があります。
それを如実に表わすのが環準同型定理でしょう。
準備のために、いくつか準備が必要です。
\begin{theorem}
  $A,B$を可換環、$f:A\to B$を環準同型とする。
  このとき、
  \[
    \operatorname{Ker}(f):=\{a\in A\mid f(a)=0\}
  \]
  は$A$のイデアルである。
\end{theorem}
\begin{proof}
  $f(0)=0$であるから、$0\in\operatorname{Ker}(f)$。
  また$x,y\in\operatorname{Ker}(f)$、すなわち$f(x)=f(y)=0$ならば、$f(x+y)=f(x)+f(y)=0+0=0$。ゆえに$x+y\in\operatorname{Ker}(f)$。
  最後に、$a\in A$、$x\in\operatorname{Ker}(f)$とおくと、$f(ax)=f(a)f(x)=f(a)\cdot0=0$。ゆえに$ax\in\operatorname{Ker}(f)$。
\end{proof}
\begin{definition}
  $A,B$を可換環、$f:A\to B$を環準同型とする。
  このとき、イデアル
  \[
    \operatorname{Ker}(f):=\{a\in A\mid f(a)=0\}
  \]
  を、$f$の\textbf{カーネル}(\textit{kernel})と呼ぶ。
\end{definition}
\begin{definition}
  $A,B$を可換環とし、$A\subset B$を満たすとする。
  このとき、包含写像$i:A\hookrightarrow B$が環準同型となるとき、$A$は$B$の\textbf{部分環}であるという。
\end{definition}
\begin{theorem}
  $A,B$を可換環、$f:A\to B$を環準同型とする。
  このとき、
  \[
    \operatorname{Im}(f):=\{f(x)\in B\mid x\in A\}
  \]
  は$B$の部分環である。
\end{theorem}
\begin{proof}
  $f$が環準同型であることから自明。
\end{proof}
\begin{theorem}[環準同型定理(well-definedness)]
  $A,B$を可換環、$f:A\to B$を環準同型とする。
  このとき、
  \[
    \overline{f}:A/\operatorname{Ker}(f)\to\operatorname{Im}(f);x+\operatorname{Ker}(f)\mapsto f(x)
  \]
  はうまく定義された写像である。
\end{theorem}
\begin{proof}
  $x-y\in\operatorname{Ker}(f)$、すなわち$f(x-y)=0$を満たすとする。
  このとき、$0=f(x-y)=f(x)-f(y)$ゆえに$f(x)=f(y)$
\end{proof}
\begin{theorem}[環準同型定理]
  $A,B$を可換環、$f:A\to B$を環準同型とする。
  このとき、写像
  \[
    \overline{f}:A/\operatorname{Ker}(f)\to\operatorname{Im}(f);x+\operatorname{Ker}(f)\mapsto f(x)
  \]
  は環同型写像である。
\end{theorem}
\begin{proof}
  \textbf{準同型であること} $x+\operatorname{Ker}(f),y+\operatorname{Ker}(f)\in A/\operatorname{Ker}(f)$に対して、
  \begin{itemize}
    \item $\overline{f}(x+\operatorname{Ker}(f)+y+\operatorname{Ker}(f))=\overline{f}(x+y+\operatorname{Ker}(f))=f(x+y)$。
    一方で$\overline{f}(x+\operatorname{Ker}(f))+\overline{f}(y+\operatorname{Ker}(f))=f(x)+f(y)=f(x+y)=\overline{f}(x+\operatorname{Ker}(f)+y+\operatorname{Ker}(f))$
    \item $\overline{f}((x+\operatorname{Ker}(f))(y+\operatorname{Ker}(f)))=\overline{f}(xy+\operatorname{Ker}(f))=f(xy)$。
    一方で$\overline{f}(x+\operatorname{Ker}(f))\overline{f}(y+\operatorname{Ker}(f))=f(x)f(y)=f(xy)=\overline{f}((x+\operatorname{Ker}(f))(y+\operatorname{Ker}(f)))$
    \item $\overline{f}(1+\operatorname{Ker}(f))=f(1)=1$
  \end{itemize}

  \textbf{単射性} $x+\operatorname{Ker}(f),y+\operatorname{Ker}(f)\in A/\operatorname{Ker}(f)$に対して、$f(x)=f(y)$を満たすとする。
  このとき、$0=f(x)-f(y)=f(x-y)$ゆえ$x-y\in\operatorname{Ker}(f)$となる。
  従って$x+\operatorname{Ker}(f)=y+\operatorname{Ker}(f)$。

  \textbf{全射性} 任意の$f(x)\in\operatorname{Im}(f)$に対して、$\overline{f}(x+\operatorname{Ker}(f))=f(x)$。
\end{proof}

\subsection{使用例}

\begin{example}
  $\mathbb{R}[X]/(X^2+1)\cong\mathbb{C}$
\end{example}
\begin{proof}
  $\mathbb{R}[X]$から$\mathbb{C}$への写像を
  \[
    \varphi:\mathbb{R}[X]\to\mathbb{C};f(X)\mapsto f(\sqrt{-1})
  \]
  で定義すると、これは環準同型である。
  実際、$\varphi(f(X)+g(X))=f(\sqrt{-1})+g(\sqrt{-1})=\varphi(f(X))+\varphi(g(X))$、$\varphi(f(X)g(X))=f(\sqrt{-1})g(\sqrt{-1})=\varphi(f(X))\varphi(g(X))$、$\varphi(1)=1$を満たしている。

  また、$\varphi$は全射である。
  実際、任意の複素数$\alpha:=a+b\sqrt{-1}\in\mathbb{C}$に対して、$f(X):=a+bX$とおけば、あきらかに$\varphi(f(X))=\alpha$。
  すなわち$\operatorname{Im}(\varphi)=\mathbb{C}$である。

  準同型定理を使うため、$\operatorname{Ker}(\varphi)=(X^2+1)$を証明する。
  まず任意の$f(X)\in(X^2+1)$は、$f(X)=g(X)(X^2+1)$となる$g(X)\in\mathbb{R}[X]$が存在するため、
  \[
    \varphi(f(X))=\varphi(g(X)(X^2+1))=g(\sqrt{-1})(\sqrt{-1}^2+1)=g(\sqrt{-1})\cdot0=0
  \]
  ゆえに$f(X)\in\operatorname{Ker}(\varphi)$。
  逆に、任意の$f(X)\in\operatorname{Ker}(\varphi)$とする。
  このとき多項式の除法より、$f(X)=(X^2+1)q(X)+r(X)$となる$q(X),r(X)\in\mathbb{R}[X]$が存在し、$\deg r<2$である。
  したがって、$r(X)=a+bX$ (${}^\exists a,b\in\mathbb{R}$)と表せる。
  このとき、$f(X)\in\operatorname{Ker}(\varphi)$すなわち$\varphi(f(X))=f(\sqrt{-1})=0$であったから、
  \[
    0=f(\sqrt{-1})=(\sqrt{-1}^2+1)q(\sqrt{-1})+r(\sqrt{-1})=r(\sqrt{-1})=a+b\sqrt{-1}=0
  \]
  従って$a=b=0$。
  ゆえに$r(X)=0$となり、$f(X)=(X^2+1)q(X)\in(X^2+1)$である。
  
  以上より、$\operatorname{Ker}(\varphi)=(X^2+1)$が示された。
  したがって、環準同型定理より、$\mathbb{R}[X]/(X^2+1)\cong\operatorname{Im}(\varphi)=\mathbb{C}$が成り立つ。
\end{proof}
また、可換環$\mathbb{R}[X]/(X^2+1)$が体$\mathbb{C}$と同型になったことで、イデアル$(X^2+1)$が実は極大イデアルであることもわかりました。

環準同型定理はこんな感じで、準同型があればいつでも気楽に使えます。
大学の演習問題で綺麗な準同型作って準同型定理でビシッと決めると、その時だけに分泌される脳内物質の存在を感じます。
