\chapter{可換環論 初級}

こちらは$\text{ユークリッド環}\subset\text{PID}$の紹介と証明から、Noether環に至るまでを中心に、その他もろもろ解説していきます。

\section{ユークリッド環}

前章の例題で、\textbf{多項式の割り算}をしれっと行いました。
高校数学でもやったことあると思います。
整数の時と同じように、多項式$f$を$g$で割るという操作
\[
  f=gq+r,\quad {}^\exists q,r \text{ s.t. } \deg(r)<\deg(g)
\]
ができるのです。
こうみると、\textbf{ユークリッド互除法}とまったく同じことを多項式でやっていると言えます。
しかし残念ながら、任意の可換環がそのようなアルゴリズムが存在するとは限りません。

まず良くない可能性は、0じゃない元同士の積が0になることがあるということです。
\begin{example}
  $\mathbb{Z}/6\mathbb{Z}$において、$2\times3=0$。
\end{example}
このようなことが起きると、例えば「$f$を$g$で割ります」といっても、$gq=0$となる$q$が存在すると、$f=r$になってしまって「割り算とはいったい…？」という状態になります。
こういう不都合な元には名前がついています。
\begin{definition}
  $A$を可換環とする。$a\in A\setminus\{0\}$が\textbf{零因子}であるとは、ある$b\in A$が存在して、$ab=0$を満たす時を言う。
\end{definition}

零因子がない環というのは素敵なものですので、素敵な名前がついています。
\begin{definition}
  零因子を持たない可換環$A$を\textbf{整域}(\textit{Domain})と呼ぶ。
\end{definition}
別の言い方をすれば、可換環$A$が整域であることとは
\begin{itemize}
  \item 任意の$a\in A$、$b\in A$に対して、$ab=0$ならば$a=0$または$b=0$
  \item $(0)\subset A$は素イデアルである
\end{itemize}
ということです。

さて、整域においてでさえユークリッドの互除法を導くことができません。
整数においても多項式においても、\textbf{剰余の大きさが割った元より小さくなっていかないといけない}のですが、そもそも\textbf{元の大きさ}を可換環の定義では行っていません。
なので、付け加える必要があります。
新たな環の出現です！
\begin{definition}
  整域$A$が\textbf{ユークリッド環}(\textit{Euclidean domain}\footnote{
    直訳すると「ユークリッド整域」になりそうですが、最近の本はユークリッド環と訳すのが主流のような雰囲気をそこはかとなく感じています。
  })であるとは、写像
  \[
    |\cdot|:A\setminus\{0\}\to \mathbb{Z}_{\geq0}
  \]
  が存在して、次を満たす時を言う。
  すなわち、任意の$a,b\in A$に対して、$b\neq0$ならば、ある$q,r\in A$が存在して、
  \[
    a=bq+r
  \]
  を満たし、$r=0$でないならば
  \[|r|<|b|\]
  である。

  上記の条件を満たす写像$|\cdot|:A\setminus\{0\}\to \mathbb{Z}_{\geq0}$を\textbf{ユークリッドノルム}と呼ぶ。
\end{definition}

\subsection{ユークリッド環の例}

非常に当たり前ですが、体はユークリッド環です。
\begin{example}
  体$K$は、
  \[
    |\cdot|:K\setminus\{0\}\to\mathbb{Z}_{\geq0};x\mapsto 0
  \]
  をユークリッドノルムとするユークリッド環である。
\end{example}
\begin{proof}
  $a,b\in K$に対して、$b\neq0$ならば、$q=b^{-1}a$、$r=0$とおけば
  \[
    bq=b(b^{-1}a)=a
  \]
  となるから、$|\cdot|$はユークリッドノルムである。

  整域であることを示す。
  $a,b\in K$に対して$ab=0$とすれば、$a\neq0$ならば、両辺に$a^{-1}$を掛けることで$b=0$を得る。
  ゆえに$K$は整域である\footnote{
    こういう整域であることの証明方法は随所で見られます。
    ロジックが理解できていれば説明は不要でしょうけれども、突然このように言われるとギョッとするかもしれません。
    このような証明が成り立つ理由は、整域の定義の一つ「$ab=0$ならば$a=0$または$b=0$」と排中律から来ています。
    つまり、$ab=0$かつ$a\neq0$から$b=0$を示すことができれば、\textbf{あるいは$a=0$のとき}という排中律がすぐさま$a=0$を示すためです。
  }。
\end{proof}

もちろん、今まで見てきた整数環$\mathbb{Z}$や、体$K$上の一変数多項式環$K[X]$はユークリッド環です。
\begin{example}
  整数環$\mathbb{Z}$は、通常の絶対値
  \[
    \mathbb{Z}\setminus\{0\}\to\mathbb{Z}_{\geq0};n\mapsto|n|
  \]
  をユークリッドノルムとするユークリッド環である。
\end{example}
\begin{proof}
  ユークリッドの互除法そのものであるから自明。
\end{proof}

\begin{example}
  $K$を体とする。このとき一変数多項式環$K[X]$は、多項式$f$の$X$に関する次数$\deg(f)$をユークリッドノルムとするユークリッド環である。
\end{example}
ほぼ自明ですが証明します。
\begin{proof}
  まず整域であることを示すために、$f,g\in K[X]\setminus\{0\}$かつ$fg=0$とする。
  もし$\deg(f)=\deg(g)=0$であれば、すなわち$f,g\in K$であるから、$f=0$または$g=0$。
  ゆえにどちらか一方の次数は$0$でないとする(背理法の仮定)。
  このとき、$f$の最高次の係数を$a_f\in K\setminus\{0\}$、$g$の最高次の係数を$a_g\in K\setminus\{0\}$とすれば、
  \[
    fg=a_fa_gX^{\deg(f)+\deg(g)}+\cdots
  \]
  となっていて、かつ$K$は整域ゆえ$a_fa_g\neq0$かつ、$\deg(f)>0$または$\deg(g)>0$だったから$\deg(f)+\deg(g)>0$。
  従って$fg\neq0$となってしまい、矛盾する。
  よって$\deg(f)=\deg(g)=0$でなければならず、従って上述の通り$f=0$または$g=0$ゆえ、$K[X]$は整域である。

  $\deg$がユークリッドノルムであることを示すために、$f,g\in K[X]$、$g\neq0$とする。
  \begin{itemize}
    \item $\deg(f)<\deg(g)$ならば、$q=0,r=f$とおいて、$f=qg+r$かつ、$\deg(r)<\deg(g)$を満たしている。
    \item $\deg(f)\geq\deg(g)$のとき、$f$は
    \[
      f=a_nX^n+\cdots+a_{\deg(g)}X^{\deg(g)}+r_0,\quad\deg(r_0)<\deg(g)
    \]
    とおくことができる。
    ここで$g$の最高次の係数を$b$とおくと、明らかに
    \begin{align*}
      \deg(f-a_nb^{-1}X^{n-\deg(g)}g)\leq n-1
    \end{align*}
    そこで、
    \[
      f_1:=f-a_nb^{-1}X^{n-\deg(g)}g
    \]
    とおくと、この最高次の係数も、ある$c\in K$によって
    \[
      \deg(f_1-cX^{n-1-\deg(g)}g)\leq n-2
    \]
    と消していくことができる\footnote{
      これは$\deg(f_1)=n-1$のときにこうします。
      もしかすると$f-a_nb^{-1}X^{n-\deg(g)}g$の時点で$n-1$次以下の項も消えてるかもしれません。
      まあそうであっても、やることは同じです。
    }。
    これを繰り返せば、ある$q,r\in K[X]$が存在して、
    \[
      f=qg+r,\quad\deg(r)<\deg(g)
    \]
    を満たすことがわかる。
  \end{itemize}
\end{proof}



\section{単項イデアル整域}

一変数多項式環はユークリッド環でしたが、2変数にするとユークリッド環ではなくなります。
その理由は以下になります。
\begin{lemma}
  $K[X,Y]$のイデアル$(X,Y)$は単項イデアルではない。
\end{lemma}
\begin{proof}
  もし単項イデアルであるとすると、ある$f\in K[X,Y]$が存在して、$(X,Y)=(f)$となる。
  このとき$X\in(f)$かつ$Y\in(f)$であるから、
  \[
    X=fg,\quad Y=fh\quad({}^\exists g,h\in K[X,Y])
  \]
  と書ける。
  次数を比較すると、$\deg_X(X)=\deg_X(f)+\deg_X(g)=1$であるから、$\deg_X(f)$は0か1である。
  ここで$\deg_X$は$X$に関する次数を表わす。
  もし$\deg_X(f)=1$とすると、$Y=fh$において左辺の$X$次数は0であるから、$\deg_X(h)=-1$とならざるを得ず矛盾する。
  したがって$\deg_X(f)=0$、すなわち$f$は$X$を含まない多項式である。
  同様に$Y=fh$から$\deg_Y(f)=0$も言えるため、$f$は定数、すなわち$f\in K$である。
  
  ここで、もし$f=0$ならば$(f)=\{0\}$となり$(X,Y)$と一致しない。
  ゆえに$f\in K\setminus\{0\}$である。
  したがって$1=f\cdot f^{-1}\in(f)=(X,Y)$となる。
  すなわち、ある$p,q\in K[X,Y]$が存在して
  \[
    1=Xp+Yq
  \]
  と書けることになるが、両辺に$(0,0)$を代入すると$1=0$となり矛盾する。
  以上より、$(X,Y)$を生成する単一の多項式$f$は存在しない。
\end{proof}

なぜこれで$K[X,Y]$がユークリッド環でないことが分かるかというと、次の定理が知られているからです。
\begin{theorem}
  $A$をユークリッド環とする。このとき、$A$の任意のイデアルは単項イデアルである。
\end{theorem}
\begin{proof}
  $\mathfrak{a}$を$A$のイデアルとする。
  $\mathfrak{a}=(0)$ならば$(0)$という単項イデアルであるからよい。
  $\mathfrak{a}\neq(0)$とする。
  このとき、$\mathfrak{a}$の$0$でない元の中で、ノルム$|x|$が最小となる元を一つ選び、$d$とする。
  この$d$がイデアルすべてを生成すること、すなわち$\mathfrak{a}=(d)$を示そう。
  
  $d\in\mathfrak{a}$であるから、$(d)\subset\mathfrak{a}$は明らか。
  逆に任意の$a\in\mathfrak{a}$をとる。
  ユークリッド環の定義より、
  \[
    a = dq + r \quad (r=0 \text{ または } |r|<|d|)
  \]
  となる$q,r \in A$が存在する。
  変形すると$r = a - dq$である。
  $a\in\mathfrak{a}$かつ$d\in\mathfrak{a}$より、$r\in\mathfrak{a}$である。
  
  ここで、もし$r\neq 0$だとすると、$|r|<|d|$となり、$d$がノルム最小の元として選ばれたことに矛盾する。
  したがって$r=0$でなければならない。
  ゆえに$a=dq \in (d)$となり、$\mathfrak{a}\subset(d)$。
  以上より$\mathfrak{a}=(d)$である。
\end{proof}

これにより$K[X,Y]$がユークリッド環でないことが分かったばかりか、整数環$\mathbb{Z}$や多項式環$K[x]$のイデアルが、すべて1つの元で生成されることが保証されました！
このような整域には名前を付けてあげましょう。
\begin{definition}
  整域$A$が\textbf{単項イデアル整域}(\textit{principal ideal domain}, 略してPID)であるとは、任意のイデアルが単項イデアルであるときをいう。
\end{definition}
先ほど示したことは、\textbf{ユークリッド環はPIDである}ということです。



\section{Noether環}

すべてのイデアルが単項イデアル、という面白い可換環を知ったことで、もう一つ興味が出てきます。
ちょっとだけPIDの定義を拡張して、「任意のイデアルが有限生成だったら？」ということです。
この疑問を持った君はするどい！
これは実は代数幾何学で空気のように扱われる概念です。
\begin{definition}[Noether環]
  任意のイデアルが有限生成であるような可換環$A$を\textbf{Noether環}(\textit{Noetherian ring})と呼ぶ。
\end{definition}

実はもともとNoether環は、不変式論と呼ばれる分野での\textbf{Hilbertの基底定理}および、代数的整数論におけるデデキントによる\textbf{イデアルの昇鎖列が止まるか問題}に対して提唱されました。

\subsection{コラム：Noether環はどこから？私は代数的整数論から}

Fermat予想へのLam\'eとKummerの試みに話を戻しましょう。
彼らは$\mathbb{Z}[\zeta_{23}]$で素因数分解の一意性が成り立たないことに気が付いたのでした（リウヴィル(Liouville)などの指摘もあり）。
この一意性問題を、Kummerは数そのものではなく、それが生成するイデアルだと思うことで「素イデアル分解の一意性」として解決します。

$\mathbb{Z}[\zeta_{23}]$で考えるのは少し大変なので、よく知られた例である
\[
  A=\mathbb{Z}[\sqrt{-5}]
\]
を考えましょう。
この環では、
\[
  6=2\cdot3=(1+\sqrt{-5})(1-\sqrt{-5})
\]
というように、素因数分解の一意性が成り立っていない例が見られます。
イデアルではどう考えるかというと、まずイデアルの積を考えないといけないですね。
\begin{definition}
  $A$を可換環、$\mathfrak{a}$と$\mathfrak{b}$を$A$のイデアルとする。
  このとき、$\mathfrak{a}$と$\mathfrak{b}$の元すべての組の積が生成するイデアル、つまり
  \[
    \mathfrak{a}\mathfrak{b}:=\left(\{ab\in A\mid a\in\mathfrak{a}, b\in\mathfrak{b}\}\right)
  \]
  を、\textbf{イデアル$\mathfrak{a}$と$\mathfrak{b}$の積}と呼ぶ。
\end{definition}

簡単なところから計算例をお見せしましょう。
\begin{example}
  $\mathbb{Z}$において、
  \[
    (6)=(2)(3)
  \]
\end{example}
\begin{proof}
  $(2)=\{2n\mid n\in\mathbb{Z}\}$、$(3)=\{3m\mid m\in\mathbb{Z}\}$であるから、$(2)(3)$の元は、$6k$という形をしている。
  すなわち$(2)(3)\subset(6)$。
  逆に$n\in(6)$とすると、これはすなわち$n=6m$ (${}^\exists m\in\mathbb{Z}$)。
  このとき、$2\in(2)$、$3m\in(3)$ゆえに$2\cdot 3m=6m=n\in(2)(3)$。
  すなわち$(6)\subset(2)(3)$、ゆえに$(6)=(2)(3)$。
\end{proof}

実は定義から明らかに、もし$\mathfrak{a}=(a_1,\dots,a_n)$、$\mathfrak{b}=(b_1,\dots,b_m)$なら、
\[
  \mathfrak{a}\mathfrak{b}=(a_1b_1,a_1b_2,\dots,a_1b_m,a_2b_1,\dots,a_2b_m,\dots,a_nb_m)
\]
です。

さて、$\mathbb{Z}[\sqrt{-5}]$ではどうでしょうか？
まず$(6)=(2)(3)$は$\mathbb{Z}[\sqrt{-5}]$でも正しいです。
しかしイデアルの世界では、これをさらに分解することができるのです！

まず、実のところ$(2)$や$3$は$\mathbb{Z}[\sqrt{-5}]$では素イデアルではないという問題があります。
\begin{example}
  イデアル$(2)\subset\mathbb{Z}[\sqrt{-5}]$は素イデアルではない。
\end{example}
\begin{proof}
  $1+\sqrt{-5}\in\mathbb{Z}[\sqrt{-5}]$は$(2)$に含まれない。
  実際、もし$1+\sqrt{-5}\in(2)$とすると、ある$a+b\sqrt{-5}\in\mathbb{Z}[\sqrt{-5}]$が存在して、$1+\sqrt{-5}=2(a+b\sqrt{-5})$。
  ところがこれらの複素数が一致するためには、$1=2a$、$1=2b$が成り立たなければならないが、そのような$a,b\in\mathbb{Z}$は存在しない。
  ゆえに$1+\sqrt{-5}\notin\mathbb{Z}[\sqrt{-5}]$。

  ところが、$(1+\sqrt{-5})^2=1+2\sqrt{-5}-5=-4+2\sqrt{-5}=2(-2+\sqrt{-5})\in(2)$。
\end{proof}
\begin{example}
  イデアル$(3)\subset\mathbb{Z}[\sqrt{-5}]$は素イデアルではない。
\end{example}
\begin{proof}
  $1+\sqrt{-5},1-\sqrt{-5}\notin(3)$である。これは上記と同様である。
  一方で$(1+\sqrt{-5})(1-\sqrt{-5})=1+5=6\in(3)$
\end{proof}

素イデアルというのは、極大イデアルが素イデアルであったことからわかるように、「かなり大きい」集合になっています。
素イデアルでない$(2)$や$(3)$を素イデアルにするには、元が足りないのです。
そこで上記証明でも障害となった二つの元に注目します。
\begin{example}
  $(2,1+\sqrt{-5})$は極大イデアルであり、従って素イデアルである。
\end{example}
\begin{proof}
  準同型
  \[
    f:\mathbb{Z}\to\mathbb{Z}[\sqrt{-5}]/(2,1+\sqrt{-5});n\mapsto(2,1+\sqrt{-5})
  \]
  は全射である。
  実際、任意の$a+b\sqrt{-5}+(2,1+\sqrt{-5})\in\mathbb{Z}[\sqrt{-5}]/(2,1+\sqrt{-5})$に対して、
  \[
    a-b=(a+b\sqrt{-5})-b(1+\sqrt{-5}) \text{ 従って } a-b\equiv a+b\sqrt{-5}\mod(2,1+\sqrt{-5})
  \]
  であるから、$f(a-b)=a+b\sqrt{-5}+(2,1+\sqrt{-5})$。

  また$\operatorname{Ker}(f)$を求めるために、$f(n)=0+(2,1+\sqrt{-5})$すなわち$n+(2,1+\sqrt{-5})=0+(2,1+\sqrt{-5})$とする。
  このとき、$n\in(2,1+\sqrt{-5})$であるから、ある$a+b\sqrt{-5},c+d\sqrt{-5}\in\mathbb{Z}[\sqrt{-5}]$が存在して、
  \[
    n=2(a+b\sqrt{-5})+(1+\sqrt{-5})(c+d\sqrt{-5})=2a+c-5d+(2b+c+d)\sqrt{-5}
  \]
  を満たす。
  この複素数の等式を満たすには、
  \[
    \begin{cases}
      n=2a+c-5d\\
      2b+c+d=0
    \end{cases}
  \]
  を満たさなければならない。
  第二式より$c=-2b-d$であるから、これを第一式に代入すると
  \[
    n=2a-2b-6d
  \]
  となる。
  $a,b,d$は任意の整数を動くから、$n$は任意の偶数の値を取ることができる。
  すなわち$\operatorname{Ker}(f)\subset2\mathbb{Z}$。
  逆に任意の偶数$2m$に対して、$2m\in(2,1+\sqrt{-5})$であるから$f(2m)=0+(2,1+\sqrt{-5})$。
  ゆえに$\operatorname{Ker}(f)=2\mathbb{Z}$である。

  従って準同型定理より、
  \[
    \mathbb{Z}/2\mathbb{Z}\cong\mathbb{Z}[\sqrt{-5}]/(2,1+\sqrt{-5})
  \]
  となる。左辺は体であるから、$(2,1+\sqrt{-5})$は極大イデアルである。
\end{proof}

同様にして次が成り立ちます。
\begin{example}
  $(3,1\pm\sqrt{-5})$は$\mathbb{Z}[\sqrt{-5}]$の極大イデアルであり、従って素イデアルである。
\end{example}
\begin{proof}
  \[
    f:\mathbb{Z}\to\mathbb{Z}[\sqrt{-5}]/(3,1\pm\sqrt{-5})
  \]
  が全射であり、$\operatorname{Ker}(f)=3\mathbb{Z}$になることが、上記と同様にわかる。
  従って準同型定理より$\mathbb{Z}/3\mathbb{Z}\cong\mathbb{Z}[\sqrt{-5}]/(3,1\pm\sqrt{-5})$であるが、左辺は体であるから$(3,1\pm\sqrt{-5})$は極大イデアルである。
\end{proof}

さてここまでやったら、色々試してみればいいでしょう。
数学書は綺麗になった理論しか読者に見せませんが、裏では泥臭い計算が行われているものです。
多分Kummerもいろんなイデアルの積を考えまくったことでしょう。
とはいえ結論、次のようになります。
\begin{example}
  $\mathbb{Z}[\sqrt{-5}]$において、
  \[
    (2)=(2,1+\sqrt{-5})^2
  \]
\end{example}
\begin{proof}
  $(2)\subset(2,1+\sqrt{-5})^2$を示すためには、$2\in(2,1+\sqrt{-5})^2$を示せばよい。
  \[
    (2,1+\sqrt{-5})^2=(4,2+2\sqrt{-5},-4+2\sqrt{-5})
  \]
  であるから、
  \[
    2=-4+(2+2\sqrt{-5})-(-4+2\sqrt{-5})\in(4,2+2\sqrt{-5},-4+2\sqrt{-5})=(2,1+\sqrt{-5})^2
  \]
  逆に、$(2,1+\sqrt{-5})^2\subset(2)$を示すには、$4,2+2\sqrt{-5},-4+2\sqrt{-5}\in(2)$を示せばよいが、これは明らか。
  従って題意が示された。
\end{proof}
\begin{example}
  $\mathbb{Z}[\sqrt{-5}]$において、
  \[
    (3)=(3,1+\sqrt{-5})(3,1-\sqrt{-5})
  \]
\end{example}
\begin{proof}
  $(3)\subset(3,1+\sqrt{-5})(3,1-\sqrt{-5})$を示すためには、$3\in(3,1+\sqrt{-5})(3,1-\sqrt{-5})$を示せばよい。
  \[
    (3,1+\sqrt{-5})(3,1-\sqrt{-5})=(9,3+3\sqrt{-5},3-3\sqrt{-5},6)
  \]
  であるから、
  \[
    3=9-6\in(3,1+\sqrt{-5})(3,1-\sqrt{-5})
  \]
  逆に、$(3,1+\sqrt{-5})(3,1-\sqrt{-5})\subset(3)$を示すには、$9,3+3\sqrt{-5},3-3\sqrt{-5},6\in(2)$を示せばよいが、これは明らか。
  従って題意が示された。
\end{proof}
上記の素イデアルを
\begin{align*}
  \mathfrak{p}_2&:=(2,1+\sqrt{-5})\\
  \mathfrak{p}_3&:=(3,1+\sqrt{-5})\\
  \overline{\mathfrak{p}_3}&:=(2,1-\sqrt{-5})
\end{align*}
とおけば、以上から$\mathbb{Z}[\sqrt{-5}]$における$(6)$の素イデアル分解
\[
  (6)=\mathfrak{p}_2^2\mathfrak{p}_3\overline{\mathfrak{p}_3}
\]
が得られました。

Kummerが考えたこの素イデアル分解ですが、実は任意の可換環で一意性が成り立つとは限りませんし、そもそも分解が有限回で終わるとも限りません。
しかし、Noether環であれば、少なくとも「分解操作がいつか終わる」ことだけは保証できます。
理由はイデアルの「大きさ」に関する直感の逆転にあります。
通常の数では、割れば割るほど数字は小さくなりますが、イデアルの世界では「割り切れる」ことは「包含される」ことを意味します。
実際、6は2より大きい数ですが、イデアルとしては$(6)\subset(2)$というように、約数の方が集合として大きくなるのです。
したがって、「分解を繰り返していく」という操作は、イデアルの包含関係において
\[
  \mathfrak{a}_1 \subset \mathfrak{a}_2 \subset \mathfrak{a}_3 \subset \cdots
\]
というように、集合がどんどん大きくなっていく「昇鎖」を作ることに他なりません。
分解が必ず終わるためには、この拡大がどこかで止まる必要があります。
すなわち、任意の昇鎖列に対してある番号$N$が存在し、
\[
  \mathfrak{a}_N = \mathfrak{a}_{N+1} = \mathfrak{a}_{N+2} = \cdots
\]
となって停留する（これ以上大きくならない）ことが条件となります。
これをイデアルの\textbf{昇鎖条件}(\textit{Ascending Chain Condition}, ACC)といいます。
実は、この条件こそがNoether環の定義なのです。

\begin{theorem}
  可換環$A$について、次は同値である。
  \begin{enumerate}
    \item $A$はイデアルの昇鎖条件(以降ACC)を満たす。
    \item $A$の任意のイデアルは有限生成である。
  \end{enumerate}
\end{theorem}
\begin{proof}
  (1 $\implies$ 2)
  $A$はイデアルのACCを満たすとし、$\mathfrak{a}$をそのイデアルとする。
  背理法を用いる。もし$\mathfrak{a}$が有限生成でないと仮定する。
  まず、$a_1 \in \mathfrak{a}$を選び、イデアル$\mathfrak{a}_1 = (a_1)$を作る。
  $\mathfrak{a}$は有限生成ではないので、$\mathfrak{a} \neq \mathfrak{a}_1$である。
  そこで、$a_2 \in \mathfrak{a} \setminus \mathfrak{a}_1$を選び、$\mathfrak{a}_2 = (a_1, a_2)$を作る。
  まだ$\mathfrak{a}$は有限生成でないので、$\mathfrak{a} \neq \mathfrak{a}_2$である。
  これを繰り返して、$a_n \in \mathfrak{a} \setminus \mathfrak{a}_{n-1}$を選び続け、$\mathfrak{a}_n = (a_1, \dots, a_n)$を作ると、
  \[
    \mathfrak{a}_1 \subsetneq \mathfrak{a}_2 \subsetneq \mathfrak{a}_3 \subsetneq \dots
  \]
  という真に増大していくイデアルの列ができてしまう。
  これは$A$が昇鎖条件を満たすことに矛盾する。
  したがって、$\mathfrak{a}$は有限生成でなければならない。

  (2 $\implies$ 1)
  $A$の任意のイデアルが有限生成であるとする。
  イデアルの昇鎖列 $\mathfrak{a}_1 \subset \mathfrak{a}_2 \subset \dots$ を考える。
  ここで、これらの和集合
  \[
    \mathfrak{a} := \bigcup_{i=1}^{\infty} \mathfrak{a}_i
  \]
  を考えると、これもイデアルになる。
  実際、明らかに$0\in\mathfrak{a}$。
  また任意の$x,y\in\mathfrak{a}$に対して、$x\in\mathfrak{a}_n$、$y\in\mathfrak{a}_m$とすると、$n\leq m$ならば$x,y\in\mathfrak{a}_m$であるから$x+y\in\mathfrak{a}_m\subset\mathfrak{a}$。
  逆に$m\leq n$でも同様。
  最後に、$a\in A$かつ$x\in\mathfrak{a}$とすると、ある$n$に対して$x\in\mathfrak{a}_n$ゆえ$ax\in\mathfrak{a}_n\subset\mathfrak{a}$。

  さて、仮定より$\mathfrak{a}$は有限生成なので、生成元 $x_1, \dots, x_r$ が存在する。
  すなわち $\mathfrak{a} = (x_1, \dots, x_r)$。
  各生成元 $x_j$ は和集合のどこかの段階で入ってきたはずなので、ある番号 $n_j$ が存在して $x_j \in \mathfrak{a}_{n_j}$ となる。
  ここで $N = \max(n_1, \dots, n_r)$ とおくと、すべての $j$ について $x_j \in \mathfrak{a}_N$ となる。
  したがって、
  \[
    \mathfrak{a} = (x_1, \dots, x_r) \subset \mathfrak{a}_N \subset \mathfrak{a}_{N+1} \subset \dots \subset \mathfrak{a}
  \]
  となるため、$\mathfrak{a}_N = \mathfrak{a}_{N+1} = \dots = \mathfrak{a}$ となり、列は停留する。
\end{proof}

\subsection{コラム：Noether環はどこから？私は不変式論から}

不変式とは、ざっくり言えば「座標変換しても値が変わらない式」のことです。
最も有名な例は、2次方程式の判別式でしょう。
\[
  f(x,y)=ax^2+2bxy+cy^2
\]
という2変数2次形式を考えます(計算の都合上$2b$としています)。
この式の形を決めるのは係数$a,b,c$ですが、これらが作る判別式
\[
  D=b^2-ac
\]
は、この式の「ある性質」を表わしています。

座標変換を行ってみましょう。
行列
\[
  M = \begin{pmatrix}
    p & q \\
    r & s
  \end{pmatrix}
\]
を用いて、変数を
\[
  \begin{pmatrix}
    x \\ y
  \end{pmatrix}
  =
  M
  \begin{pmatrix}
    x' \\ y'
  \end{pmatrix}
\]
と取り替えたとします。
これを元の式$f(x,y)$に代入して整理すると、新しい係数$a', b', c'$を持つ式
\[
  f(x',y')=a'x'^2+2b'x'y'+c'y'^2
\]
が得られます。当然、係数$a', b', c'$は元の$a,b,c$と$p,q,r,s$が複雑に混ざった値になります。
しかし、驚くべきことに、新しい係数で作った判別式$D' = (b')^2 - a'c'$を計算すると、
\[
  D'=(\det(M))^2D
\]
という非常に綺麗な関係が成り立つのです。
特に行列式が1の変換($\det(M)=1$)に限れば、$D'=D$となり、値が全く変わりません。
このように、座標を変えても不変な式のことを\textbf{不変式}と呼びます。

19世紀の数学者たちは考えました。
「もっと変数を増やしたり、次数を上げたりしても、このような不変式をすべて見つけ出すことができるだろうか？」
彼らの目標は、あらゆる不変式を
\[
  I=F(J_1,J_2,\dots,J_n)
\]

というように、有限個の「基本となる不変式$J_1,\dots,J_n$」の多項式として書き表すことでした。
これを「不変式環の有限生成問題」といいます。

これは「泥沼」でした。
変数が2個、3個と増えるにつれ、計算量は爆発的に増大します。
当時の計算の大家ゴルダン(Gordan)は、凄まじい計算力で2変数の場合を解決しましたが、3変数以上では誰も歯が立ちませんでした。
「基本となる不変式が有限個である」ことを示すために、具体的にそれらを見つけようとすると、宇宙が終わるほどの時間がかかってしまうのです。

そこに現れたのが、Noetherの師であるHilbertです。
彼は具体的な$J_i$を計算するのをやめました。
代わりにこう考えたのです。
「不変式たちが生成する\textbf{イデアル}を考えよう」

彼は、多項式環の強力な性質を証明しました。
\begin{theorem}[Hilbertの基底定理]
  体$K$上の多項式環$R=K[X_1, \dots, X_n]$の任意のイデアル$\mathfrak{a}$は有限生成である。
  すなわち、有限個の元$f_1, \dots, f_m$が存在して、
  \[
    \mathfrak{a}=(f_1,\dots,f_m)
  \]
  と書ける。
\end{theorem}
\begin{proof}
  1変数の場合、$R=K[X]$がNoether環であることを示せばよい。
  これは次数をユークリッドノルムとして$K[x]$がユークリッド環になることからPIDであり、従って全てのイデアルは一つ、すなわち有限の元で生成される。

  一般の場合、$A:=[X_1,\dots,X_{n-1}]$がNoether環であると仮定したとき、$A[X_n]$もまたNoetherであることを示す。
  これはより一般に、次の定理によってわかる。
\end{proof}
\begin{theorem}
  $A$がNoether環ならば、$A[X]$もNoether環である。
\end{theorem}
\begin{proof}
  $\mathfrak{f}\subset A[X]$を任意のイデアルとする。
  $\mathfrak{f}$に含まれる多項式の最高次係数全体からなる集合
  \[
    \mathfrak{a}:=\{a\in A\mid {}^\exists aX^n+a_{n-1}X^{n-1}+\cdots+a_0\in\mathfrak{f}\} \cup \{0\}
  \]
  を考えると、$\mathfrak{a}$は$A$のイデアルとなる。
  
  実際、$a,b\in\mathfrak{a}$とし、それぞれを最高次係数に持つ多項式を$f=aX^n+\cdots$、$g=bX^m+\cdots$とする（$f,g\in\mathfrak{f}$）。
  一般性を失わず$n\leq m$とすると、$X^{m-n}f \in \mathfrak{f}$であり、これと$g$の和をとることで
  \[
    X^{m-n}f + g = (a+b)X^m + \cdots \in \mathfrak{f}
  \]
  となるため、$a+b\in\mathfrak{a}$である。
  また$A$倍についても同様に閉じており、$\mathfrak{a}$はイデアルである。

  $A$はNoether環であるから、$\mathfrak{a}$は有限生成である。
  \[
    \mathfrak{a}=(a_1,\dots,a_n)
  \]
  とおく。各$a_i$に対して、それを最高次係数としてもつ多項式$f_i \in \mathfrak{f}$を選び、その次数を$r_i=\deg(f_i)$とする。ここで
  \[
    r:=\max\{r_1, \dots, r_n\}
  \]
  とおく。さらに、これらの生成元で生成される$A[X]$のイデアルを
  \[
    \mathfrak{f}':=(f_1,\dots,f_n)
  \]
  とおく。明らかに$\mathfrak{f}'\subset\mathfrak{f}$である。

  任意の$f \in \mathfrak{f}$をとる。
  $f$の次数$m$が$m \geq r$であれば、その最高次係数$a$は$\mathfrak{a}$の元であるから$a=\sum c_i a_i$ ($c_i \in A$) と書ける。
  このとき、
  \[
    f - \sum_{i=1}^n c_i X^{m-r_i} f_i
  \]
  を考えると、これは$\mathfrak{f}$の元であり、かつ$m$次の項が消去されているため、次数は$m$より小さくなる。
  この操作を繰り返すことで、任意の$f \in \mathfrak{f}$に対して
  \[
    f = h + g, \quad h \in \mathfrak{f}', \quad \deg(g) < r
  \]
  となる$g \in \mathfrak{f}$が存在することがわかる。
  もし$g=0$ならば$f \in \mathfrak{f}'$であるが、一般には$g \neq 0$の可能性があるため、次数が$r$未満の多項式について考える必要がある。

  各整数$k$ ($0 \leq k < r$) に対して、次数が$k$であるような$\mathfrak{f}$の元の最高次係数全体（および$0$）の集合を$\mathfrak{a}_k$とおく。
  すなわち、
  \[
    \mathfrak{a}_k := \{ c \in A \mid \exists p \in \mathfrak{f}, \deg(p) = k, \text{の最高次係数が } c \} \cup \{0\}
  \]
  これらはそれぞれ$A$のイデアルとなるため、Noether性より有限生成である。
  各$k$について、その生成元を$c_{k,1}, \dots, c_{k, s_k}$とし、
  それらを最高次係数に持つ多項式 $g_{k,j} \in \mathfrak{f}$ （$\deg g_{k,j} = k$）を選んで固定する。

  これら有限個の多項式全体
  \[
    S := \{f_1, \dots, f_n\} \cup \{ g_{k,j} \mid 0 \leq k < r, \, 1 \leq j \leq s_k \}
  \]
  が$\mathfrak{f}$を生成することを示す。

  先ほどの剰余多項式$g$（$\deg g < r$）を考える。
  $g=0$なら証明終了である。
  $g \neq 0$とし、$\deg(g) = d$ ($d < r$)、その最高次係数を$c$とする。
  定義より$c \in \mathfrak{a}_d$であるから、$c$は$\mathfrak{a}_d$の生成元$c_{d,j}$の一次結合で書ける。
  したがって、適当な係数$b_j \in A$を用いて
  \[
    g - \sum_{j=1}^{s_d} b_j g_{d,j}
  \]
  を作ると、これは$\mathfrak{f}$の元であり、かつ$d$次の項が消去されるため次数は$d$未満となる。
  
  この次数引き下げの操作を繰り返せば、最終的に次数は$0$より小さく（すなわち$0$多項式に）なる。
  ゆえに$g$は$\{g_{k,j}\}$の$A$-係数線形結合で書けることがわかり、$f$は$S$の元で生成されるイデアルに含まれる。
  
  以上より$\mathfrak{f}$は有限生成であり、$A[X]$はNoether環である。
\end{proof}

Hilbertはこの定理を使い、「具体的な形はわからないが、有限個の基底が存在することだけは間違いない」と証明してしまったのです。
これを見たGordanは「これは数学ではない、神学だ！」と叫んだとか。
こうして、「具体的な計算」の限界を「イデアルの有限生成性」という抽象的な性質が突破しました。
この「任意のイデアルが有限生成である」という性質こそ、後にEmmy Noetherが「Noether環」として定義したものの正体です。
前節で見たように、この「有限生成性」は、先ほどの「昇鎖条件」と全く同じ意味を持つのです。

ちなみに、この「変換しても変わらない性質に着目する」という思想は、同時代のフェリックス・クライン(Felix Klein)による「\textbf{エルランゲン・プログラム}」（幾何学を変換群の観点で統一する試み）と完全に共鳴するものです。
不変式論は、Kleinが描いた幾何学の設計図を、代数の計算によって具体的に実現しようとする試みだったとも言えるでしょう。
やがてこの流れは、計算（不変式）から構造（群・環・体）へと主役を移し、Noetherによる現代代数学へと結実していきます。



\section{やり残したこと}

話の流れ的にどこにも差し込みにくかった定理をここに証明します。

\begin{theorem}
  $A$を可換環、$\mathfrak{a}$を$A$のイデアルとする。
  このとき、$\mathfrak{a}$が素イデアルであることと、$A/\mathfrak{a}$が整域であることは同値である。
\end{theorem}
\begin{proof}
  $\mathfrak{a}$が素イデアルであるとし、$x+\mathfrak{a},y+\mathfrak{a}\in A/\mathfrak{a}$は$xy+\mathfrak{a}=0+\mathfrak{a}$が成り立つとする。
  すなわち$xy\in\mathfrak{a}$であるが、$\mathfrak{a}$は素イデアルであるから、$x\in\mathfrak{a}$または$y\in\mathfrak{a}$が成り立つ。
  これはすなわち$x+\mathfrak{a}=0+\mathfrak{a}$または$y+\mathfrak{a}=0+\mathfrak{a}$であるから、$A/\mathfrak{a}$は素イデアルとなる。

  逆に$A/\mathfrak{a}$が整域ならば$\mathfrak{a}$が素イデアルであることは、上記を逆にたどればわかる。
\end{proof}







