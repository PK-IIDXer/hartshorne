\chapter{可換環論：中級}\label{chapter-commutative-rings-second-course}

第\ref{chapter-commutative_rings_introduction}章では環とイデアルの基礎を、第\ref{chapter-commutative_rings_first_course}章ではNoether性という有限性の概念を学びました。
これくらいで一応、可換環論初級は卒業でしょうか。
初級って言ったって、僕が言ってるだけですけど。
ともかくこれで、\mycite{Har77}の2ページ目までの可換環論は攻略しました。

意気揚々と読み進めていくと、3ページ目Proposition 1.2の証明がほとんど書かれてないです。
大半は簡単なのですが、Prop 1.2(d)は\textbf{Hilbertの零点定理}と呼ばれるまあまあの大定理です。
これも可換環論の結果扱いということで、参考文献にぶん投げられています。
取り上げられているのはLangのでっかい本、我らがアティマク、古典のZariski-Samuelが挙げられています。
んで、例えば君が\mycite{At-Mc-translate}しか持ってなかったら残念！
演習問題です。
代数幾何あるあるですね。

今回はHilbertの零点定理を攻略していきましょう。
まず幾何学的な直感を説明しておきましょう。
素朴な代数幾何学は、方程式のゼロ点集合で表わされる図形に関する幾何学です。
そうなると、根本的に図形
\[
  f(X_1,\dots,X_n)=0
\]
と、図形
\[
  f(X_1,\dots,X_n)^2=0
\]
は区別することができません。
この違いは代数学では起こり、幾何学では(見た目上)起こらないです。
代数学で起こる上記の違いを吸収して、図形を生成する無駄のない方程式を抽出したいな～というのがHilbertの零点定理の動機としてあります。
で、抽出してみた結果がHilbertの零点定理になるわけですが、最初に「無駄があるかもしれない方程式系(すなわちイデアル)」から無駄を省くと、ちょうどそのイデアルの\textbf{根基}に一致するというのが主張になります。



\section{イデアルの根基}

まず突然現れている「$\sqrt{\mathfrak{a}}$」ってなんやねんという話ですが、これはイデアル$\mathfrak{a}$の\textbf{根基}と呼ばれるもので、イデアルの元の重複具合を可能な限り取り除いたものと言えましょう。
例えば$\mathbb{C}[x]$において、イデアル$(x)$と$(x^2)$は代数的には異なりますが、幾何学的な零点集合（つまり$x=0$となる点と$x^2=0$となる点）はどちらも原点$0$であり、区別がつきません。
この違いを吸収するのが根基です。
\begin{definition}[根基]
  環$A$のイデアル$\mathfrak{a}$に対して、
  \[
    \sqrt{\mathfrak{a}} := \{x \in A \mid {}^\exists n > 0, x^n \in \mathfrak{a}\}
  \]
  を$\mathfrak{a}$の\textbf{根基}(\textit{radical})と呼ぶ。
\end{definition}

根基が実際にイデアルになっていることを証明しましょう。
\begin{theorem}
  環$A$のイデアル$\mathfrak{a}$に対して、
  \[
    \sqrt{\mathfrak{a}} := \{x \in A \mid {}^\exists n > 0, x^n \in \mathfrak{a}\}
  \]
  は$A$のイデアルである。
\end{theorem}
\begin{proof}
  まず、$0^1=0\in\mathfrak{a}$ゆえに$0\in\sqrt{\mathfrak{a}}$。

  次に$x,y\in\sqrt{\mathfrak{a}}$とおくと、ある$n,m>0$が存在して、$x^n,y^m\in\mathfrak{a}$。
  このとき、
  \[
    (x+y)^{n+m}=\sum_{i=0}^{n+m}{}_{n+m}C_ix^{n+m-i}y^i
  \]
  を考えると、各$x^{n+m-i}y^i$は$\mathfrak{a}$に含まれる。
  実際、$i\leq m$ならば$x^{n+m-i}y^i=(x^{m-i}y^i)x^n\in\mathfrak{a}$。
  また$i>m$ならば$x^{n+m-i}y^i=(x^{n+m-i}y^{i-m})y^m\in\mathfrak{a}$。

  最後に、$a\in A$、$x\in\sqrt{\mathfrak{a}}$とすると、ある$n>0$が存在して、$x^n\in\mathfrak{a}$。
  このとき、
  \[
    (ax)^n=a^nx^n\in\mathfrak{a}
  \]
  ゆえに$ax\in\sqrt{\mathfrak{a}}$。
\end{proof}

\subsection{根基の例}

簡単な例をいくつか見ていきましょう。
まずは一般的にすぐに分かる例を挙げます。
\begin{example}
  $A$を環、$\mathfrak{a}$をそのイデアルとすると、$\sqrt{\mathfrak{a}}=A \iff \mathfrak{a}=A$
\end{example}
\begin{proof}
  明らかに$\sqrt{A}=A$ゆえ、$\sqrt{\mathfrak{a}}=A$ならば$\mathfrak{a}=A$を示す。
  仮定より$1\in\sqrt{\mathfrak{a}}$ゆえ、$1=1^n\in\mathfrak{a}$ (${}^\exists n>0$)。
  よって$1\in\mathfrak{a}$となり$\mathfrak{a}=A$が従う。
\end{proof}

より具体的な例を見ていきましょう。
PID $\mathbb{Z}$において、根基は「$\sqrt{\mathfrak{a}}$」という記号のイメージ通りの挙動をします。
\begin{example}
  $\mathbb{Z}$において、
  \begin{itemize}
    \item $\sqrt{(4)}=(2)$
    \item $\sqrt{(9)}=(3)$
    \item $\sqrt{(12)}=(6)$
    \item $\sqrt{(125)}=(5)$
  \end{itemize}
  など。一般に、$a=p_1^{e_1}\cdots p_n^{e_n}$のとき、
  \[
    \sqrt{(p_1^{e_1}\cdots p_n^{e_n})}=(p_1\cdots p_n)
  \]
\end{example}

証明はいらないでしょう。
$\sqrt{(125)}=(5)$のように、単に平方根をとっているのではなく、とにかく重複した素因子のべき乗を排除するのです。

\subsection{根基の性質}

根基の性質で最初に伝えておくべき重要な性質は、次の簡単な定理です。
\begin{theorem}
  環$A$のイデアル$\mathfrak{a}$に対して、
  \[
    \mathfrak{a}\subset\sqrt{\mathfrak{a}}
  \]
\end{theorem}
\begin{proof}
  根基の定義から、$x\in\mathfrak{a}$ならば$x^1=x\in\mathfrak{a}$ゆえに$x\in\sqrt{\mathfrak{a}}$、つまり$\mathfrak{a}\subset\sqrt{\mathfrak{a}}$。
\end{proof}

剰余環の自然な準同型
\[
  \varphi:A\to A/\mathfrak{a};a\mapsto a+\mathfrak{a}
\]
は、「$\mathfrak{a}$を含むイデアルとそれらの包含関係のなす順序集合」と、「$A/\mathfrak{a}$のイデアルとそれらの包含関係のなす順序集合」の間の順序同型でした。
従って$\mathfrak{a}\subset\sqrt{\mathfrak{a}}$から、$\sqrt{\mathfrak{a}}$に対応する$A/\mathfrak{a}$に対応するイデアル
\[
  \mathfrak{N}_{A/\mathfrak{a}}:=\varphi(\sqrt{\mathfrak{a}})
\]
が存在します。
これはほとんど明らかに以下の性質を持ちます。
\begin{theorem}
  $A$を環、$\mathfrak{a}$をイデアルとする。
  $\varphi:A\to A/\mathfrak{a}$を剰余環の自然な準同型とし、$\mathfrak{N}_{A/\mathfrak{a}}:=\varphi(\sqrt{\mathfrak{a}})$とおく。
  このとき、
  \[
    a+\mathfrak{a}\in\mathfrak{N}_{A/\mathfrak{a}} \iff (a+\mathfrak{a})^n=0\; ({}^\exists n>0)
  \]
\end{theorem}
\begin{proof}
  \begin{align*}
    a+\mathfrak{a}\in\mathfrak{N}_{A/\mathfrak{a}} &\iff \varphi(a)\in\varphi(\sqrt{\mathfrak{a}})\\
    &\iff a\in\sqrt{\mathfrak{a}}\\
    &\iff a^n\in\mathfrak{a} ({}^\exists n>0)\\
    &\iff a^n+\mathfrak{a}=0\in A/\mathfrak{a} ({}^\exists n>0)\\
    &\iff (a+\mathfrak{a})^n=0 ({}^\exists n>0)
  \end{align*}
\end{proof}

一般に、
\begin{definition}
  $A$を環とする。
  $a\in A$が\textbf{冪零元}であるとは、ある$n>0$が存在して、$a^n=0$を満たす時をいう。
\end{definition}
\begin{definition}
  $A$を環とする。
  このとき、$A$の冪零元すべての集合がなすイデアル
  \[
    \mathfrak{N}_A:=\sqrt{(0)}=\{a\in A\mid a^n=0\; ({}^\exists n>0)\}
  \]
  を\textbf{冪零元根基}という。
\end{definition}
ので、「自然な準同型$\varphi:A\to A/\mathfrak{a}$による$\sqrt{\mathfrak{a}}$の像は冪零元根基$\mathfrak{N}_{A/\mathfrak{a}}$」ということです。

\subsection{Hilbertの零点定理}

根基の定義だけ把握していれば、Hilbertの零点定理の主張を把握するには十分です。
\begin{theorem}
  $k$を代数閉体とし、$A:=k[X_1,\dots,X_n]$を多項式環とする。
  \begin{description}
    \item[弱零点定理(Hilbert's Nullstellensatz, weak form)] $A$の極大イデアルは$(X_1-a_1,\dots,X_n-a_n)$、$(\exists(a_1,\dots,a_n)\in k^n)$という形である。
    \item[強零点定理(Hilbert's Nullstellensatz, strong form)] $T$を$A$の部分集合、$Y$を$k^n$の部分集合とするとき、
    \begin{align*}
      Z(T)&:=\{P\in k^n\mid \forall f\in T, f(P)=0\}\\
      I(Y)&:=\{f\in A\mid \forall P\in Y, f(P)=0\}
    \end{align*}
    とする。このとき任意のイデアル$\mathfrak{a}\subset A$に対して$I(Z(\mathfrak{a}))=\sqrt{\mathfrak{a}}$となる。
  \end{description}
\end{theorem}

弱零点定理はご覧の通り、$A$の極大イデアルが$k^n$の点に対応してますよ、という主張です。
このように主張してみれば全然明らかではないですが、おそらくこの直感は代数幾何学という分野が生まれてまもなく、数学者によって駆使されていたでしょう。
弱零点定理は係数体が代数閉体でなければ成り立たないです。
その理由は、この定理が各点$(a_1,\dots,a_n)\in k^n$に対して$A/(X_1-a_1,\dots,X_n-a_n)$が$k$と同型になることに依存していて、これは$k$が代数閉体でなければ示せないからです。

強零点定理は、代数多様体$Z(\mathfrak{a})$を定義している方程式系が$\sqrt{\mathfrak{a}}$と一致することを主張しています。
例えば$V:=Z(((X+Y+1)^2))\subset k^2$という図形は直線
\[
  V=\{(a,-a-1)\mid a\in k\}
\]
と一致するわけですが、こう見るとイデアル$((X+Y+1)^2)$を$V$に変換してしまったことで、$(X+Y+1)^2$の2乗という情報が抜け落ちることがわかります。
強零点定理は、一般にそのようなことを主張しています。

直感的には、強零点定理は弱零点定理を含んでいて、わざわざ並べて述べる必要もなさそうに思えます。
実際、次の定理を厳密に証明できます。
\begin{theorem}
  $k$を代数閉体とし、$A:=k[X_1,\dots,X_n]$を多項式環とし、これらに対してHilbertの強零点定理が成り立つとする。
  このとき、$\mathfrak{m}$を$A$の極大イデアルとすると
  \[
    \sqrt{\mathfrak{m}}=(X_1-a_1,\dots,X_n-a_n),\quad\exists(a_1,\dots,a_n)\in k^n
  \]
  が成り立つ。
\end{theorem}
\begin{proof}
  $\mathfrak{m}$は$A=(1)$ではないから、$1\notin\mathfrak{m}$である。
  もし$1\in\sqrt{\mathfrak{m}}$だとすると、ある自然数$n$が存在して、$1^n=1\in\mathfrak{m}$であるから、$1\notin\mathfrak{m}$に矛盾する。
  ゆえに$1\notin\sqrt{\mathfrak{m}}$である。
  Hilbertの強零点定理より
  \[
    I(Z(\mathfrak{m}))=\sqrt{\mathfrak{m}}\neq A
  \]
  であるから、$Z(\mathfrak{m})\neq\varnothing$である\footnote{
    $Z(\mathfrak{m})=\varnothing$と仮定すると、$\mathfrak{m}$に$k^n$上0にならない多項式が含まれます。
    因数定理の対偶から、そのような多項式は0でない定数$a$しかありません。
    そのため$1=a^{-1}a\in\mathfrak{m}$が従います。
    この対偶を取って、$1\notin\mathfrak{m}$ならば$Z(\mathfrak{m})\neq\varnothing$が成り立ちます。
  }。
  従って、ある$P:=(a_1,\dots,a_n)\in k^n$が存在して、$P\in Z(\mathfrak{m})$。

  $\mathfrak{m}\subset(X_1-a_1,\dots,X_n-a_n)$を証明する。
  $P\in Z(\mathfrak{m})$の定義から、任意の$f\in\mathfrak{m}$に対して、$f(P)=0$を満たす。
  従って因数定理から、$f$は$X_i-a_i$ ($\forall i=1,\dots,n$)で割り切れる。
  即ち$f\in(X_1-a_1,\dots,X_n-a_n)$が成り立つ。
  従って$\mathfrak{m}\subset(X_1-a_1,\dots,X_n-a_n)$が従う。

  最後に、$\mathfrak{m}$は極大イデアルであり、$(X_1-a_1,\dots,X_n-a_n)$は$A=(1)$ではないから、$\mathfrak{m}=(X_1-a_1,\dots,X_n-a_n)$が示された。
\end{proof}

上記の理由から、わざわざ弱零点定理を定理として述べずに、強零点定理の系としても良さそうです。
しかし不思議なことに、弱零点定理から強零点定理が導けるのです。
(Zornの補題と整列可能定理の関係に近いでしょうか？)
そのため、まずは弱零点定理の証明から取り掛かりましょう。



\section{Hilbertの弱零点定理の証明の概要}

改めて弱零点定理の主張を眺めてみましょう。
\begin{theorem}[弱零点定理(Hilbert's Nullstellensatz, weak form)]
  $k$を代数閉体とし、$A:=k[X_1,\dots,X_n]$を多項式環とする。
  このとき$A$の極大イデアルは、$(X_1-a_1,\dots,X_n-a_n)$, $(\exists(a_1,\dots,a_n)\in k^n)$という形である。
\end{theorem}
極大イデアル$\mathfrak{m}$を調べるとっかかりは、なんといっても剰余環
\[
  K:=A/\mathfrak{m}
\]
を調べることです。

$\mathfrak{m}$が極大イデアルなら、$K$は体になります。
$K$はあきらかに体$k$を含んでいるので、$k$の拡大体になります。
そこで、その拡大次数、すなわち$\dim_k(K)$を見てみましょう。
まだこれが有限次元か無限次元かわかりません。
というのも、
\[
  X_1^{k_1}\cdots X_n^{k_n}
\]
という項を有限個の生成元にまとめ上げることができるとは、すぐさま断言できないからです。
よく考えてみれば、多項式環
\[
  k[X_1,\dots,X_n]
\]
は$k$上あきらかに無限次元であって、それを極大イデアルで割ったからといって、すぐさま有限次元に落ちるとは言えません。

ところが$K=A/\mathfrak{m}$には、明らかな有限性が認められます。
それは、\textbf{積も含めれば明らかに$X_1,\dots,X_n$で生成できる}ということです。
そのため弱零点定理を証明するためには、環をベクトル空間としての有限性だけでなく、積の構造を含めた有限性の構造と比較して研究する必要があります。

ここに、\textbf{ある体を含んだ環としての相対的な構造}を研究しなければならないことに気が付きます。
僕たちは体を環の一種にすぎないと定義していたので、欲張って「ある環を含んだ環」を調べたいところ。
いや、もっと欲張って、次の\textbf{代数}という構造を調べると今後の役に立つかもしれません。



\section{$A$代数}

体に対するベクトル空間のように、環に対する以下の概念を考えることができます。
\begin{definition}[加群]
  $A$を環、$M$を加法群とする。
  $M$が\textbf{$A$加群}(\textit{$A$-module})であるとは、スカラー倍と呼ばれる演算$A\times M\to M$が定義されていて、以下を満たす時を言う。
  任意の$a,b\in A$および$x,y\in M$に対して、
  \begin{itemize}
    \item (結合法則) $a(bx)=(ab)x$
    \item (分配法則)
    \begin{itemize}
      \item $(a+b)x=ax+bx$
      \item $a(x+y)=ax+ay$
    \end{itemize}
    \item (1倍) $1\cdot x=x$
  \end{itemize}
\end{definition}

\begin{example}
  $\mathbb{Z}^n$は、演算
  \begin{itemize}
    \item $(x_1,\dots,x_n)+(y_1,\dots,y_n)=(x_1+y_1,\dots,x_n+y_n)$
    \item $a(x_1,\dots,x_n)=(ax_1,\dots,ax_n)$
  \end{itemize}
  によって$\mathbb{Z}$加群である。
  一般に、環$A$に対して$A^n$は$A$加群である。
\end{example}
また、加群を軸にみたとき、整数環$\mathbb{Z}$はかなり特別な存在です。
\begin{example}
  任意の加法群$M$ (単位元は$1_M$とする)は、以下の演算で自然に$\mathbb{Z}$加群である。
  \[
    n\cdot x:=\begin{cases}
      (\underbrace{1_M+\cdots+1_M}_{n\text{個}})\cdot x & n>0 \\
      0 & n=0 \\
      -(\underbrace{1_M+\cdots+1_M}_{|n|\text{個}})\cdot x & n<0
    \end{cases}
  \]
\end{example}

体$K$上のベクトル空間は、$K$を環とみた$K$加群と言い直すこともできます。
またベクトル空間のように、$A^n$は、次のような基底をもつと言えます。
\[
  e_1=(1,0,\dots,0),\dots,e_n=(0,\dots,0,1)
\]

一方でベクトル空間と違う点は、例えば次のような加群があることです。
\begin{example}
  整数$n$に対して、$\mathbb{Z}/n\mathbb{Z}$は$\mathbb{Z}$加群である。
  一般に$r\geq0$、$m\geq0$、$n_1,\dots,n_m>1$を整数とするとき、
  \[
    M=\mathbb{Z}^r\times\mathbb{Z}/n_1\mathbb{Z}\times\cdots\times\mathbb{Z}/n_m\mathbb{Z}
  \]
  は$\mathbb{Z}$加群である。
\end{example}
この例の何がベクトル空間と違うかというと、体$K$上のベクトル空間$V$の場合、$x\in V\setminus\{0\}$なら
\[
  ax=0 \iff a=0
\]
は正しいのですが、上記の加群の例ではそうとは限りません。
いずれにしても、上記の例はどれも以下のような性質をもっています。
\begin{definition}
  $M$を環$A$の加群とする。
  $M$が\textbf{有限生成$A$加群}であるとは、$M$の有限個の元$e_1,\dots,e_n$が存在して、任意の$x\in M$に対して、ある$a_1,\dots,a_n\in A$が存在して、
  \[
    x=\sum_{i=1}^na_ie_i
  \]
  を満たす時を言う。
\end{definition}

有限生成加群の例はいくつか見たので、有限生成ではない加群の例を見てみましょう。
\begin{example}
  環$A$上の多項式環$A[X_1,\dots,X_n]$は有限生成ではない$A$加群である。
\end{example}
これは何度か現れている例なので、証明するほどではないでしょう。

\subsection{加群の準同型}

ふたつの$A$加群が似ているかどうかを、今まで通り加法群とみた準同型で比べるのは良い発想です。
しかし、準同型には$A$加群であるという情報をのせたいところ。
この場合、次のような準同型を考えるのが良いでしょう。
\begin{definition}
  $A$を環、$M,N$を$A$加群とする。
  群準同型$f:M\to N$が\textbf{$A$加群の射}であるとは、以下を満たす時を言う。
  \[
    f(ax+by)=af(x)+bf(y), \forall a,b\in A,\;\forall x,y\in M
  \]
  \textbf{$A$加群の同型射}(誤解がなければ単に同型という)とは、群準同型として同型な$A$加群の射をいう。
  $A$加群$M$と$N$の間に$A$加群の同型射があるとき、$M$と$N$は互いに\textbf{$A$加群として同型である}という(誤解がなければ単に同型であるという)。
\end{definition}
$K$ベクトル空間の線形写像は、$K$加群の射と言い直すことができます。

\subsection{$A$代数}

加群というもの自体、加法群を環というレンズを通して調べる方法であって、加群を導入した時点で環論が一段上のレベルに上がるものと思います。
例えば、環自体も和によって加法群なので、環を加群とみなすことができます。
一般に、環準同型$f:A\to B$があるとき、環$B$に以下のような$A$加群の構造を見出すことができます。
\begin{theorem}
  $A,B$を環、$f:A\to B$を環準同型とする。
  このとき、スカラー倍$A\times B\to B$を
  \[
    a\cdot x:=f(a)x
  \]
  で定義すると、$B$は$A$加群である。
\end{theorem}
\begin{proof}
  $a,b\in A$、$x,y\in B$に対して、
  \begin{itemize}
    \item (結合法則) $a(bx)=a(f(b)x)=f(a)f(b)x=f(ab)x=(ab)x$
    \item (分配法則)
    \begin{itemize}
      \item $(a+b)x=f(a+b)x=(f(a)+f(b))x=f(a)x+f(b)x=ax+bx$
      \item $a(x+y)=f(a)(x+y)=f(a)x+f(a)y=ax+ay$
    \end{itemize}
    \item (1倍) $1\cdot x=f(1)x=1\cdot x=x$
  \end{itemize}
\end{proof}

このように、環準同型$f:A\to B$があるときはいつでも、$B$を$A$加群と思うことができます。
さらに$B$にはベクトル空間的な構造のほかに、環由来の掛け算も備えているので、特別に以下のような名前がついています。
\begin{definition}
  $A,B$を環、$f:A\to B$を環準同型とするとき、$A$加群$B$を\textbf{$A$代数}(\textit{$A$-Algebra})という。
\end{definition}
特に環準同型が単射のとき、自然に$A\subset B$と思うことができます。
これはちょうど
\begin{example}
  $\mathbb{Z}\subset\mathbb{Q}\subset\mathbb{R}\subset\mathbb{C}$
\end{example}
などの単純な状況です。
代数幾何学でより重要なのは以下でしょう。
\begin{example}
  $A$を環とするとき、多項式環$A[X_1,\dots,X_n]$は$A$代数である。
\end{example}

$A$加群が有限生成という定義は行いましたので、同様に$A$代数が有限生成であるという定義をしましょう。
\begin{definition}
  $A,B$を環、$B$は$f:A\to B$を環準同型として$A$代数とする。
  整数$n\geq0$が存在して、$A$上の多項式環$A[X_1,\dots,X_n]$から$B$への$A$代数の全射が存在するとき、\textbf{($A$代数として)有限生成である}あるいは\textbf{$B$は有限生成$A$代数である}という。
\end{definition}

「有限生成$A$加群」と「有限生成$A$代数」は、かなり意味が異なることに注意しましょう。
有限生成$A$加群は、感覚的に言えば有限次元ベクトル空間に近いのでした。
つまり、有限個の$B$の元$x_1,\dots,x_n$が存在して、
\[
  B=\left\{\sum_{i=1}^na_ix_i\mid a_i\in A\right\}
\]
と書けるとき、$B$は有限生成$A$加群といいます。
対して有限生成$A$代数は、
\[
  B=\left\{f(x_1,\dots,x_n)\mid f(X_1,\dots,X_n)\in A[X_1,\dots,X_n]\right\}
\]
と書けるときを言うのです。
加群はそもそも生成元の掛け算というものが定義されていないことがほとんどなので、その時は誤解がないと思います。
しかし代数は加群の構造も持つので、「有限生成$A$○○」と言うときは、慎重に使う必要があるでしょう。
特にHilbertの零点定理は、これらをゴチャゴチャぶん回して証明します。
象徴的なのは、Zariskiの補題と呼ばれる次の定理が中心的な役割を果たします。
\begin{theorem}[Zariskiの補題]
  $k$を体、体$E$は有限生成$k$代数であるとする。
  このとき、$E$は$k$の代数拡大である。
\end{theorem}
有限生成$k$代数$E$が代数拡大ということは、その生成元を$x_1,\dots,x_n$とするとき、それぞれの最小多項式$f_i(X)\in k[X]$を考えることができます。
従って$E$の$k$上の生成元は多くても
\[
  \sum_{i=1}^n\deg(f_i(X))
\]
個となり、有限生成$k$加群でもあることがわかります。
こんな感じで、代数は加群の構造ももつので、絶妙な議論を行う必要があるのです。



\section{Hilbertの弱零点定理の証明}

\begin{theorem}[Hilbertの基底定理の系]
  Noether環上の有限生成代数はまたNoether環である。
\end{theorem}
\begin{proof}
  Hilbertの基底定理より、Noether環上の多項式環はまたNoether環であった。
  有限生成代数は多項式環からの準同型像である。
  またNoether環からの準同型像はまたNoether環である\footnote{
    TODO: 証明する
  }から、題意が従う。
\end{proof}

\begin{theorem}[Artin-Tateの補題]
  $A\subset B\subset C$を環の列であり、以下を満たすとする。
  \begin{enumerate}
    \item $A$はNoether環
    \item $C$は有限生成$A$代数
    \item $C$は有限生成$B$加群
  \end{enumerate}
  このとき、$B$は有限生成$A$代数である。
\end{theorem}
\begin{proof}
  $x_1,\dots,x_m\in C$を$C$の$A$代数としての生成元とする。
  すなわち
  \[
    C=A[x_1,\dots,x_m]
  \]
  また、$y_1,\dots,y_n\in C$を$C$の$B$加群としての生成元とする。
  すなわち
  \[
    C=\{b_1y_1+\cdots+b_ny_n\mid b_j\in B\}
  \]

  ここで、$x_i\in C$を$y_j$の一次結合で表現すると、ある$b_{ij} \in B$を用いて
  \[
    x_i=\sum_{j=1}^n b_{ij}y_j \quad (i=1,\dots,m)
  \]
  と書ける。また積$y_iy_j\in C$についても、ある$b_{ijk} \in B$を用いて
  \[
    y_iy_j=\sum_{k=1}^n b_{ijk}y_k \quad (1 \le i, j \le n)
  \]
  と表すことができる。

  $B_0\subset B$を、$b_{ij}$、$b_{ijk}$が$A$上生成する代数とする。
  すなわち
  \[
    B_0:=A[\{b_{ij}\}_{i,j},\{b_{ijk}\}_{i,j,k}]
  \]
  $B_0$は明らかに有限生成$A$代数であり、また$A$はNoether環であるから、Hilbertの基底定理の系より$B_0$もNoether環となる。

  $C$の任意の元は、$A$を係数に持つ$x_1,\dots,x_m$の多項式であるから、$x_i=\sum b_jy_j$を使って$y_j$の多項式で書き表せる。
  そこから$y_iy_j=\sum b_{ijk}y_k$を繰り返し用い、$y_k$の線形和にまで落とし込める。
  すなわち$C$は$B_0$加群として有限生成である。

  $B_0$はNoether環であったから、有限生成$B_0$加群$C$はNoether加群である\footnote{
    TODO: AM Prop6.5
  }。
  従ってその部分加群$B\subset C$は有限生成$B_0$加群である\footnote{
    TODO: AM Prop6.2
  }。
  従って環$B$は$B_0$代数としても有限生成である。
  ところが$B_0$は有限生成$A$代数であるから、推移律より$B$は有限生成$A$代数となる。
\end{proof}

\begin{theorem}[Zariskiの補題]
  $k$を体、体$E$は有限生成$k$代数であるとする。
  このとき、$E$は$k$の代数拡大である。
\end{theorem}
\begin{proof}
  $E$の生成元を$x_1,\dots,x_n\in E$として、背理法で証明する。
  もし$E$が$k$上代数的でないとすると、ある$r>0$が存在して、
  \begin{enumerate}
    \item $x_1,\dots,x_r$は$k$上一次独立
    \item $x_{r+1},\dots,x_n$は$F:=k(x_1,\dots,x_r)$上代数的
  \end{enumerate}
  となるように$x_i$の添え字を入れ替えることができる。
  体拡大$F\subset E$で考えると、これは有限次拡大になるから、$E$は$F$代数として有限生成である。
  体(環)の拡大列
  \[
    k\subset F\subset E
  \]
  に対して、Artin-Tateの補題が使える。
  実際、$k$は体ゆえにNoether環かつ、$E$は有限生成$k$代数であり、また$F\subset E$も有限生成$F$代数であるから、$F$も有限生成$k$代数である。
  従って$F$は、$F=k[y_1,\dots,y_s]$と表わされる。
  各$y_j\in F=k(x_1,\dots,x_r)$は
  \[
    y_j:=\frac{f_j(x_1,\dots,x_r)}{g_j(x_1,\dots,x_r)}
  \]
  と書ける。

  多項式環$k[x_1,\dots,x_r]$には既約多項式が無限個存在するため\footnote{
    $k[x_1,\dots,x_r]$において、素数が無限個あることを示すのと同様。
    実際、もし既約多項式が有限個$f_1,\dots,f_n$しかなかったとすると、$f_1\cdots f_n+1$はどの$f_1,\dots,f_n$でも割り切れず、既約多項式が$f_1,\dots,f_n$しかないと仮定したことに矛盾する。
  }、$g_1,\dots,g_s$すべてと互いに素な多項式$h\in k[x_1,\dots,x_r]$が存在する。
  このとき、$1/h\in F$であるが、$h$の取り方からこれは$y_j=f_j/g_j$の多項式で表わすことができない。
  これは$F=k[y_1,\dots,y_s]$と表わせていたことに矛盾する。
  よって$E$は$k$上代数的でなければならず、ゆえに$E/k$は有限次代数拡大である。
\end{proof}

\begin{lemma}
  $k$を代数閉体、$E$を$k$代数とし、その構造射を$f:k\to E$とする。
  さらに、$E$は体$f(k)$上の代数拡大であるとする。
  このとき、体として$E\cong k$が成り立つ。
\end{lemma}
\begin{proof}
  $k$は体であるから、構造射は単射である。
  ゆえに$k\subset E$かつ$f$が包含写像のときに$E=k$となることを証明すればよい。

  $E$は$k$の代数拡大であるから、任意の元$\alpha\in E$は$k$係数多項式
  \[
    f(X)=a_0X^n+\cdots+a_n\in k[X]
  \]
  の根である。
  ところが$k$は代数閉体であるから、$f(X)$は
  \[
    f(X)=a_0(X-\alpha_1)\cdots(X-\alpha_n),\quad(\alpha_i\in k)
  \]
  と因数分解することができる。
  従って、いずれかの$i=1,\dots,n$に対して、$\alpha=\alpha_i\in k$。
  ゆえに$E\subset k$。
\end{proof}

\begin{theorem}[弱零点定理(Hilbert's Nullstellensatz, weak form)]
  $k$を代数閉体とし、$A:=k[X_1,\dots,X_n]$を多項式環とする。
  このとき$A$の極大イデアルは、$(X_1-a_1,\dots,X_n-a_n)$, $(\exists(a_1,\dots,a_n)\in k^n)$という形である。
\end{theorem}
\begin{proof}
  $\mathfrak{m}$を$A$の極大イデアルとする。
  このとき$E:=A/\mathfrak{m}$とおくと、これは体であり、$X_i+\mathfrak{m}$で生成されるから有限生成$k$代数である。
  従って$E$は$k$の有限次代数拡大である。
  代数閉体の代数拡大は$k$と同型なものしかないから、
  \[
    A/\mathfrak{m}\cong k
  \]
  が従う。この同型写像を$\varphi:A/\mathfrak{m}\to k$とおく。

  $a_i:=\varphi(X_i+\mathfrak{m})$とおくとき、
  \[
    \mathfrak{m}=(X_1-a_1,\dots,X_n-a_n)
  \]
  が従うことを示そう。
  $\pi:A\to A/\mathfrak{m}$を自然な準同型とし、$F:=\varphi\circ\pi:A\to A/\mathfrak{m}\to k$とおく。
  このとき$\mathfrak{m}$の任意の元$f$は$F(f)=0$を満たすから$\mathfrak{m}\subset\operatorname{Ker}(F)$である。
  さらに$\mathfrak{m}$は極大イデアルであるから、結局
  \[
    \operatorname{Ker}(F)=\mathfrak{m}
  \]
  が成り立つ。
  また、$a_i$の取り方から$F(X_i)=a_i$すなわち$F(X_i-a_i)=0$であるから
  \[
    (X_1-a_1,\dots,X_n-a_n)\subset\operatorname{Ker}(F)=\mathfrak{m}
  \]
  である。
  $(X_1-a_1,\dots,X_n-a_n)$は明らかに極大イデアルであるから、$\mathfrak{m}=(X_1-a_1,\dots,X_n-a_n)$が従う。
\end{proof}

\begin{theorem}[Hilbertの強零点定理]
  $k$を代数閉体とし、$A:=k[X_1,\dots,X_n]$を多項式環とする。
  $T$を$A$の部分集合、$Y$を$k^n$の部分集合とするとき、
  \begin{align*}
    Z(T)&:=\{P\in k^n\mid \forall f\in T, f(P)=0\}\\
    I(Y)&:=\{f\in A\mid \forall P\in Y, f(P)=0\}
  \end{align*}
  とする。
  このとき任意のイデアル$\mathfrak{a}\subset A$に対して$I(Z(\mathfrak{a}))=\sqrt{\mathfrak{a}}$となる。
\end{theorem}
\begin{proof}
  $\sqrt{\mathfrak{a}}\subset I(Z(\mathfrak{a}))$を示す。
  $f\in\sqrt{\mathfrak{a}}$とすると、ある自然数$n$に対して$f^n\in\mathfrak{a}$が成り立つ。
  また$I(T)$と$Z(Y)$の定義から、任意の$P\in Z(\mathfrak{a})$と$g\in\mathfrak{a}$に対して$g(P)=0$を満たすから、$P\in Z(\mathfrak{a})$を固定すると、$f(P)^n=0$も満足する。
  ところが$A$は整域であるから、$f(P)=0$でなければならない。
  したがって$f\in I(Z(\mathfrak{a}))$となり、$\sqrt{\mathfrak{a}}\subset I(Z(\mathfrak{a}))$が示された。

  $I(Z(\mathfrak{a}))\subset\sqrt{\mathfrak{a}}$を示すために、対偶$f\notin\sqrt{\mathfrak{a}}$ならば$f\notin I(Z(\mathfrak{a}))$を示す。
  この$f$に対して、ある素イデアル$\mathfrak{p}\subset A$が存在して、$\mathfrak{a}\subset\mathfrak{p}$\footnote{
    TODO: 証明する
  }。
  \[
    B:=A/\mathfrak{p}
  \]
  とおくと、$f\in A$の$B$への像$\overline{f}\in B$は0因子ではない\footnote{
    TODO: 示す
  }。
  従って、商環
  \[
    C:=B_f:=B\left[\frac{1}{\overline{f}}\right]
  \]
  を考えることができ、局所環である\footnote{
    TODO: 証明する。商環も必要
  }。
  $\mathfrak{m}$を$C$の極大イデアルとすると、体$C/\mathfrak{m}$は有限生成$k$代数である\footnote{
    TODO: 生成元を明示する
  }。
  従ってZariskiの補題の系から$C/k\cong k$がわかる。
  系列$A\to A/\mathfrak{p}\to B_f/\mathfrak{m}\cong k$によって、$X_i\in A$を$a_i\in k$に変換していくことができる。
  \[
    A\ni X_i\mapsto X_i+\mathfrak{p}\mapsto (X_i+\mathfrak{p})+\mathfrak{m}\mapsto a_i\in k
  \]
  作り方から、$P=(a_1,\dots,a_n)\in Z(\mathfrak{a})$かつ$f(P)\neq0$\footnote{
    TODO: 細かく示す
  }。
\end{proof}

\begin{comment}



\section{分数環}

有理数体$\mathbb{Q}$は、整数環$\mathbb{Z}$から「$0$以外の元での割り算」を許すことで作られました。
一般の環でも、特定の元での割り算を許容する操作を考えることができます。

\subsection{積閉集合と分数環の定義}

割り算を許容する環を新たに作るために、分母に``なることができる"集合を一般的に考えます。
\begin{definition}[積閉集合]
  環$A$の部分集合$S$が\textbf{積閉集合}であるとは、以下を満たすときを言う。
  \begin{itemize}
    \item $1 \in S$
    \item $x, y \in S \implies xy \in S$
  \end{itemize}
\end{definition}

環$A$の積閉集合$S$に対して、$S$を分母にすることができる環を
\[
  B=\left\{\frac{a}{s}\mid a\in A, s\in S\right\}
\]
で定義できそうです。
しかしこれでは「約分」が考慮されておらず、同一視されるべき元が別々に見えてしまっています($1/2\neq2/4$みたいに見えている)。
分数が約分できる状況というのは、
\[
  \frac{a}{s}=\frac{b}{t} \iff at=bs \iff at-bs=0
\]
です。これを$B$の同値関係として導入すべきでしょうか？
答えはNO。これでは同値関係のうち、推移律を満たしません。
実際、$a/s=b/t, b/t=c/u$とすると、$at-bs=0$に$u$を、$bu-ct=0$に$s$を掛けて足し合わせることで、
\[
  0=(atu-bsu)+(bsu-cst)=atu-cst=t(au-cs)
\]
となって、$au-cs=0$とは限らないことが分かります。
なぜなら、これがゼロ因子かもしれないからです。

そこで以下の同値関係で割った集合を考えるべきでしょう。
\begin{theorem}
  $A$を環、$S$をその積閉集合とする。
  このとき、$A\times S$上の以下の関係は、同値関係である。
  \[
    (a,s) \sim (b,t) \iff {}^\exists u \in S \text{ s.t. } u(at-bs)=0
  \]
\end{theorem}
\begin{proof}
  \begin{description}
    \item[\textbf{反射律}] $(a,s)\in A\times S$に対して、$1\cdot(as-as)=0$なので$(a,s)\sim(a,s)$
    \item[\textbf{対称律}] $(a,s)\sim(b,t)$すなわち${}^\exists u\in S$ s.t. $u(at-bs)=0$とすると、$u(bs-at)=-u(at-bs)=0$ゆえに$(b,t)\sim(a,s)$
    \item[\textbf{推移律}] $(a_1,s_1)\sim(a_2,s_2)$かつ$(a_2,s_2)\sim(a_3,s_3)$すなわち${}^\exists t,u\in S$ s.t. $t(a_1s_2-a_2s_1)=0$、$u(a_2s_3-a_3s_2)=0$とする。
    このとき、
    \[
      0=s_3u\{t(a_1s_2-a_2s_1)\}+s_1t\{u(a_2s_3-a_3s_2)\}=tus_2a_1s_3-tus_2a_3s_1=tus_2(a_1s_3-a_3s_1)
    \]
    であり、$S$は積閉集合だから$tus_2\in S$より$(a_1,s_1)\sim(a_3,s_3)$
  \end{description}
\end{proof}

ゆえに集合として、$S$を分母として許容する新たな環が定義できました。
\begin{definition}[分数環]
  $A$を環、$S$をその積閉集合とする。
  このとき、$A\times S$上の同値関係
  \[
    (a,s) \sim (b,t) \iff {}^\exists u \in S \text{ s.t. } u(at-bs)=0
  \]
  に関する商集合
  \[
    S^{-1}A:=A\times S/\sim
  \]
  を、積閉集合$S$による$A$の\textbf{分数環}という。
  $S^{-1}A$の元を
  \[
    \frac{a}{s}=a/s
  \]
  などと書き表す。
\end{definition}

分数環は本来、自然に導入される環構造を含めて分数環と呼びます。
\begin{theorem}
  $A$を環、$S$をその積閉集合とする。
  このとき、$S^{-1}A$に以下の演算
  \begin{align*}
    \frac{a}{s}+\frac{b}{t}&:=\frac{at+bs}{st}\\
    \frac{a}{s}\cdot\frac{b}{t}&:=\frac{ab}{st}
  \end{align*}
  を入れることによって、$S^{-1}A$は環である。
  加法単位元は$0/1$、乗法単位元は$1/1$である。
\end{theorem}
\begin{proof}
  まず演算がうまく定義されていることを確認する。
  $a/s=a'/s'$、$b/t=b'/t'$とするとき、すなわちある$u_1,u_2\in S$が存在して、
  \[
    u_1(as'-a's)=0,\quad u_2(bt'-b't)=0
  \]
  である。
  このとき、和は
  \[
    u_1u_2\{(at+bs)s't'-(a't'+b's')st\}=u_2tt'u_1(as'-a's)+u_1ss'u_2(bt'-b't)=0
  \]
  より
  \[
    \frac{at+bs}{st}=\frac{a't'+b's'}{s't'}
  \]
  積は
  \[
    u_1u_2(abs't'-a'b'st)=u_1u_2(abs't'-a'bst'+a'bst'-a'b'st)=u_2bt'u_1(as'-a's)+u_1a'su_2(bt'-b't)=0
  \]
  より
  \[
    \frac{ab}{st}=\frac{a'b'}{s't'}
  \]
  ゆえに演算はwell-definedである。
  \begin{itemize}
    \item \textbf{演算$+$に関して可換群} 
    \begin{itemize}
      \item \textbf{結合法則} $a_1/s_1+(a_2/s_2+a_3/s_3)=a_1/s_1+(a_2s_3+a_3s_2)/s_2s_3=\{a_1s_2s_3+(a_2s_3+a_3s_2)s_1\}/s_1s_2s_3=\{(a_1s_2+a_2s_1)s_3+a_3s_1s_2\}/s_1s_2s_3=(a_1s_2+a_2s_1)/s_1s_2+a_3/s_3=(a_1/s_1+a_2/s_2)+a_3/s_3$
      \item \textbf{単位元} $a/s+0/1=(a\cdot1+0\cdot s)/s\cdot1=a/s$、$0/1+a/s=(0\cdot s+a\cdot1)/1\cdot s=a/s$
      \item \textbf{逆元} $a/s+(-a/s)=(a\cdot s-a\cdot s)/s^2=0/s^2=0/1$ ($\because$ $1\cdot(0\cdot1-0\cdot s^2)=0$)
      $(-a/s)+a/s=0/1$も同様。
      \item \textbf{可換性} $a/s+b/t=(at+bs)/st=(bs+at)/ts=b/t+a/s$
    \end{itemize}
    \item \textbf{演算$\cdot$に関して可換モノイド}
    \begin{itemize}
      \item \textbf{結合法則} $a_1/s_1\cdot (a_2/s_2\cdot a_3/s_3)=a_1/s_1\cdot(a_2a_3/s_2s_3)=a_1(a_2a_3)/s_1(s_2s_3)=(a_1a_2)a_3/(s_1s_2)s_3=(a_1a_2/s_1s_2)\cdot a_3/s_3=(a_1/s_1\cdot a_2/s_2)\cdot a_3/s_3$
      \item \textbf{単位元} $a/s\cdot 1/1=a\cdot1/s\cdot1=a/s$、$1/1\cdot a/s=1\cdot a/1\cdot s=a/s$
      \item \textbf{可換性} $a/s\cdot b/t=ab/st=ba/ts=b/t\cdot a/s$
    \end{itemize}
    \item \textbf{分配法則} $a_1/s_1\cdot(a_2/s_2+a_3/s_3)=a_1/s_1\cdot(a_2s_3+a_3s_2)/s_2s_3=a_1(a_2s_3+a_3s_2)/s_1s_2s_3=(a_1a_2s_3+a_1a_3s_2)/s_1s_2s_3=a_1a_2s_3/s_1s_2s_3+a_1a_3s_2/s_1s_2s_3=a_1a_2/s_1s_2+a_1a_3/s_1s_3=(a_1/s_1\cdot a_2/s_2)+(a_1/s_1\cdot a_3/s_3)$
  \end{itemize}
\end{proof}

さて、僕たちは積閉集合$S$にゼロ因子どころか、0が入ることを許容しています。
もし0が入っていると、分数環$S^{-1}A$は$1=0$の零環に潰れてしまいます。
実際、任意の$a/s\in S^{-1}A$に対して、$0\in S$が存在「してしまい」、
\[
  0\cdot(a\cdot 1-0\cdot s)=0
\]
をみたすので、$a/s=0/1$です。

僕たちは零環、すなわち$1=0$となる環を認めているので、このことに特に問題はないです。
一方$1\neq0$を満たすもののみを環とする主義では、積閉集合の定義に$0\neq S$を追加する必要があります。


\subsection{自然な準同型}

剰余環のときと同様に、局所化の元となった環$A$からの、「自然」と呼ぶことができる準同型が存在します。
\begin{theorem}
  $A$を環、$S$をその積閉集合とする。
  このとき、写像
  \[
    \varphi_S:A\to S^{-1}A;a\mapsto a/1
  \]
  は準同型である。
\end{theorem}
これはもはや自明と言ってよいでしょう。
それよりも、この準同型の性質を見たいです。
もし単射であれば、$A$は$S^{-1}A$の部分環とみなすことができ、$\mathbb{Z}\subset\mathbb{Q}$の直感とも合います。
しかしゼロ因子の存在により、状況は少し複雑になっています。
\begin{theorem}
  $A$を環、$S$をその積閉集合とする。
  このとき、自然な準同型
  \[
    \varphi_S:A\to S^{-1}A;a\mapsto a/1
  \]
  のカーネルは
  \[
    \operatorname{Ker}(\varphi_S)=\{a\in A\mid {}^\exists s\in S \text{ s.t. } as=0\}
  \]
  である。
\end{theorem}
\begin{proof}
  \begin{align*}
    a\in\operatorname{Ker}(\varphi_S)&\iff\varphi(a)=\frac{a}{1}=\frac01\\
    &\iff{}^\exists s \text{ s.t. } s(a\cdot1-0\cdot1)=0\\
    &\iff{}^\exists s \text{ s.t. } as=0
  \end{align*}
\end{proof}

従って、$S$がゼロ因子をもっていると単射ではないのです。
なのでそもそも$A$がゼロ因子を持たない場合、つまり整域の場合、どんな積閉集合$S$をとっても自然に$A\subset S^{-1}A$とみなすことができます。

\subsection{$\mathbb{Z}$から$\mathbb{Q}$、あるいは整域の商体}

$\mathbb{Z}$の部分集合
\[
  S:=\mathbb{Z}\setminus\{0\}
\]
は明らかに積閉集合です。
この分数環$S^{-1}\mathbb{Z}$が有理数体になっているというのが、小学校から学んできた普通の事実です。
\[
  S^{-1}\mathbb{Z}=\mathbb{Q}
\]

一般の整域$A$に対しても、同様のことが言えます。
\begin{theorem}
  $A$を整域、$S:=A\setminus\{0\}$とする。
  このとき、$S$は積閉集合である。
\end{theorem}
\begin{proof}
  もし$s,t\in S$かつ$st=0$を満たすものがあるとすると、$A$は整域であったから、$s=0$または$t=0$を満たす。
  ところがこれは、$s,t\in S=A\setminus\{0\}$であったことに矛盾する。
\end{proof}

また、$A$が整域で$S:=A\setminus\{0\}$のとき、
\[
  K:=S^{-1}A
\]
は明らかに体です(急に明らかと言われてびっくりするかもですが、手を動かし始めると本当に示すべきことがないです)。
このようにして得られる体には名前がついています。
\begin{definition}
  $A$を整域、$S:=A\setminus\{0\}$とする。
  このとき、体
  \[
    S^{-1}A
  \]
  を、整域$A$の\textbf{商体}という。
\end{definition}

\subsection{局所化$A_\mathfrak{p}$}

素イデアルが作る積閉集合、およびその分数環は代数幾何学では重要です。

\begin{theorem}
  $A$を環、$\mathfrak{p}$をその素イデアルとする。
  このとき、$S=A\setminus\mathfrak{p}$は$A$の積閉集合である。
\end{theorem}
\begin{proof}
  $1\in\mathfrak{p}$とすると$\mathfrak{p}=A$となっておかしいため、$1\notin\mathfrak{p}$。すなわち$1\in S=A\setminus\mathfrak{p}$。

  $x,y\in S$ならば$xy\in S$であることは、対偶を取れば「$xy\in \mathfrak{p}$ならば$x \in \mathfrak{p} \lor y \in \mathfrak{p}$」であり、これは$\mathfrak{p}$が素イデアルであることの定義に他ならない。
\end{proof}

\begin{definition}[局所化]
  $A$を環、$\mathfrak{p}$をその素イデアルとする。
  積閉集合$S:=A\setminus\mathfrak{p}$による$A$の分数環を$A_\mathfrak{p}$と書き、$A$の素イデアル$\mathfrak{p}$による\textbf{局所化}(\textbf{localization})という。
\end{definition}

「局所化」というネーミングの意味合いを説明するには、幾何学的な観点を導入せざるを得ないでしょう。
代数幾何学では、環$A$は多様体全体で「正則」な関数全体のなす環をイメージして構成されます。
一方で局所環は、多様体(variety)上の1点、ないし、部分多様体の近傍において正則な関数全体のなす環をイメージしています。

例えば$k$を代数閉体、$P:=(a,b)$を$k^2$の点とします。
$k^2$に対応する環は、$A=k[x,y]$です。
このとき、$P$の近傍では、$(x,y)=(a,b)$で0にならない正則関数で割っても正則であるはずです。
つまり、$k^2$の点$P$の近傍で正則な関数は一般的に、
\[
  \frac{f}{g},\quad\text{ただし$g$は$(x-a)$でも$(y-b)$でも割り切れない}
\]
と書けてしかるべきです。
一方で点$P$に対応する素イデアルは$\mathfrak{p}=(x-a,y-b)$ですから、$\mathfrak{p}$による$A=k[x,y]$の局所化は上記の環に一致します。
これが局所化のイメージです。
$A$が整域だったら、$A$は自然に$A_\mathfrak{p}=S^{-1}A$の部分環とみなせるのでしたから、大方において局所化すると環が大きくなります。

多様体(manifold)論から、ほとんど同じことではあるのですが、違った見方を紹介します。
ある点$P\in M$の近傍で定義される関数は、ようは点$P$で発散したりしてなければよいのです。
そこで、点$P$の近傍で定義された関数全体のなす環は
\[
  \mathcal{O}_{M,P}:=\{\left<U,f\right>\mid \text{$U\subset M$: 開集合}, P\in U, f:U\to\mathbb{C}\}
\]
と書いてもよいことがわかります。
ここで、各元は
\begin{align*}
  \left<U,f\right>=\left<V,g\right> \iff f|_W=g|_W,\quad\exists W\subset U\cap V\text{:$P$の開近傍}
\end{align*}
という同値関係で同一視されています。
環$\mathcal{O}_{M,P}$は複雑かもしれませんが、次のような意味できわめて単純です。
\begin{theorem}
  $M$を多様体、$P\in M$とする。
  環$\mathcal{O}_{M,P}$の極大イデアルは
  \[
    \mathfrak{m}_P:=\{\left<U,f\right>\mid f(P)=0\}
  \]
  の一つのみである。
\end{theorem}
多様体の定義はろくにやってないので、証明は適当に述べます。
まず$\mathfrak{m}_P$が極大であることは次のようにわかります。
$\mathfrak{m}_P\subsetneq\mathfrak{a}\subset\mathcal{O}_{M,P}$とすると、$\mathfrak{a}$には$P\in M$で0にならない関数$f$が入ってくるはずです。
$f$は連続関数なので、$P$の十分小さな近傍$U$で常に0になりません。
そしたら$\left<U,1/f\right>\in\mathcal{O}_{M,P}$であり、
\[
  1=\left<U,1/f\right>\cdot\left<U,f\right>\in\mathfrak{a}
\]
ゆえに$\mathfrak{a}=\mathcal{O}_{M,P}$がわかり、$\mathfrak{m}_P$が極大イデアルであることがわかります。
またこのように、$\mathcal{O}_{M,P}\setminus\mathfrak{m}_P$の元はすべて単元なので、$\mathcal{O}_{M,P}$でない任意のイデアルは$\mathfrak{m}_P$に含まれなければいけません。

この性質を環の言葉に一般化して、次のように定義します。
\begin{definition}
  環$A$が\textbf{局所環}(\textit{local ring})であるとは、$A$が唯一の極大イデアルをもつときをいう。
\end{definition}

環の局所化は、実際に局所環になっています。
\begin{theorem}
  環$A$の素イデアル$\mathfrak{p}$による局所化$A_\mathfrak{p}$は局所環である。
\end{theorem}
\begin{proof}
  \[
    \mathfrak{m}:=\left\{\frac{a}{s}\in A_\mathfrak{p}\mid a\in\mathfrak{p}, s\in A\setminus\mathfrak{p}\right\}
  \]
  とおく。このとき、$\mathfrak{m}$が$A_\mathfrak{p}$の唯一の極大イデアルであることを示す。

  \begin{itemize}
    \item イデアルであること\\
    $0\in\mathfrak{p}$より$0=0/1\in\mathfrak{m}$は自明。
    $a/s,b/t\in\mathfrak{m}$とおくと、すなわち$a,b\in\mathfrak{p}$より$at+bs\in\mathfrak{p}$。
    ゆえに$a/s+b/t=(at+bs)/st\in\mathfrak{m}$。
    最後に、$a/s\in A_\mathfrak{p}$かつ$x/t\in\mathfrak{m}$とすると、$x\in\mathfrak{p}$ゆえ$a/s\cdot x/t=ax/st\in\mathfrak{m}$。
    以上より$\mathfrak{m}$はイデアルである。
    \item $A_\mathfrak{p}\setminus\mathfrak{m}$が単元のみからなること、従って$\mathfrak{m}$が唯一の極大イデアルであること\\
    $a/s\in A_\mathfrak{p}\setminus\mathfrak{m}$とする。
    このとき、$\mathfrak{m}$の定義から$a\notin\mathfrak{p}$ゆえ、$a\in S$。
    従って$s/a\in A_\mathfrak{p}$。
  \end{itemize}
\end{proof}





\section{ヒルベルトの零点定理}

準備は整いました。ここから舞台を代数的閉体$K$上の多項式環$A = K[x_1, \dots, x_n]$に移します。

\subsection{代数的集合とイデアル}

（$V(\mathfrak{a})$ と $I(Z)$ の定義）

ここで素朴な疑問が生じます。
イデアル$\mathfrak{a}$から出発して、その零点集合$V(\mathfrak{a})$を考え、さらにその消失イデアル$I(V(\mathfrak{a}))$を考えたとき、元の$\mathfrak{a}$に戻るでしょうか？
答えはNoです。先ほど見たように、$\mathfrak{a}=(x^2)$なら$I(V(\mathfrak{a}))=(x)$になってしまいます。
では、$\sqrt{\mathfrak{a}}$をとれば一致するのか？
その答えが、次の定理です。

\subsection{弱零点定理}

まずは「点」に対応する極大イデアルの形を決定します。

\begin{theorem}[Hilbert's Nullstellensatz, weak form]
  $K$を代数的閉体とする。$K[x_1, \dots, x_n]$の任意の極大イデアル$\mathfrak{m}$は、
  \[
    \mathfrak{m} = (x_1 - a_1, \dots, x_n - a_n), \quad (a_1, \dots, a_n \in K)
  \]
  の形に書ける。
\end{theorem}

この証明には、次の代数的な補題が強力な役割を果たします。
（ザリスキの補題を紹介）

\subsection{強零点定理とRabinowitschのトリック}

変数を一つ増やすことで、魔法のように弱形式から一般系を導くことができます。これをRabinowitschのトリックと呼びます。

\begin{theorem}[Hilbert's Nullstellensatz, strong form]
  $K$を代数的閉体、$A=K[x_1, \dots, x_n]$とする。
  任意のイデアル$\mathfrak{a} \subset A$に対して、
  \[
    I(V(\mathfrak{a})) = \sqrt{\mathfrak{a}}
  \]
\end{theorem}
\end{comment}